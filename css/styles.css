/* Main Styles for Gallisch Dorp Game - Pixel Art Style */

/* Import pixel font */
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

/* Reset and Base Styles */
* { 
  box-sizing: border-box; 
}

body { 
  font-family: 'Segoe UI', 'Roboto', sans-serif; 
  margin: 0; 
  padding: 100px 20px 80px 20px; /* top padding for fixed gold bar, bottom for reset button */
  background: 
    /* Mystical forest atmosphere */
    radial-gradient(ellipse at 20% 20%, rgba(34, 139, 34, 0.3) 0%, transparent 60%),
    radial-gradient(ellipse at 80% 80%, rgba(46, 125, 50, 0.2) 0%, transparent 60%),
    radial-gradient(ellipse at 50% 100%, rgba(27, 94, 32, 0.4) 0%, transparent 50%),
    /* Ancient magic glow */
    radial-gradient(circle at 10% 30%, rgba(139, 69, 19, 0.1) 0%, transparent 40%),
    radial-gradient(circle at 90% 70%, rgba(160, 82, 45, 0.1) 0%, transparent 40%),
    /* Base forest gradient */
    linear-gradient(135deg, #1b5e20 0%, #2e7d32 30%, #388e3c 60%, #1b5e20 100%);
  color: #1a1a1a;
  min-height: 100vh;
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  font-size: 14px;
  line-height: 1.5;
  position: relative;
  overflow-x: hidden;
}

/* Layout */
.game-container {
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
}

@media (max-width: 768px) {
  .game-container {
    grid-template-columns: 1fr;
  }
}

/* Typography */
h1 { 
  text-align: center; 
  font-size: 2.2em; 
  font-weight: bold;
  text-shadow: 2px 2px 0px rgba(0,0,0,0.3); 
  margin-bottom: 20px;
  grid-column: 1 / -1;
  color: #fff;
  letter-spacing: 1px;
}

/* Gold Display */
.gold-display {
  background: 
    /* Celtic scroll pattern */
    radial-gradient(circle at 25% 25%, rgba(139, 69, 19, 0.1) 0%, transparent 30%),
    radial-gradient(circle at 75% 75%, rgba(160, 82, 45, 0.1) 0%, transparent 30%),
    radial-gradient(circle at 10% 50%, rgba(218, 165, 32, 0.1) 0%, transparent 25%),
    radial-gradient(circle at 90% 50%, rgba(255, 215, 0, 0.1) 0%, transparent 25%),
    /* Golden treasure chest effect */
    linear-gradient(135deg, #ffd700 0%, #ffb300 20%, #daa520 40%, #cd853f 60%, #b8860b 80%, #ffd700 100%);
  color: #2d1810;
  padding: 15px;
  border-radius: 0 0 15px 15px;
  text-align: center;
  font-size: 1.3em;
  font-weight: bold;
  border: 4px solid transparent;
  border-image: linear-gradient(90deg, #8b4513, #daa520, #ffd700, #daa520, #8b4513) 1;
  border-top: none;
  box-shadow: 
    /* Outer magical glow */
    0 6px 20px rgba(255, 215, 0, 0.4),
    0 3px 10px rgba(0, 0, 0, 0.2),
    /* Inner treasure gleam */
    inset 0 2px 0 rgba(255, 255, 255, 0.6),
    inset 0 -2px 0 rgba(139, 69, 19, 0.4),
    inset 2px 0 0 rgba(255, 255, 255, 0.3),
    inset -2px 0 0 rgba(139, 69, 19, 0.3);
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  gap: 10px;
  text-shadow: 
    1px 1px 2px rgba(0, 0, 0, 0.3),
    0 0 8px rgba(255, 215, 0, 0.4);
  animation: gentleGoldShimmer 4s ease-in-out infinite;
}

/* Panels */
.panel { 
  background: 
    /* Celtic knotwork pattern overlay */
    radial-gradient(circle at 20% 30%, rgba(139, 69, 19, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 70%, rgba(160, 82, 45, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 50% 50%, rgba(101, 67, 33, 0.05) 0%, transparent 70%),
    /* Enhanced wood planks with natural grain */
    repeating-linear-gradient(
      0deg,
      #3a1a0f 0px, #3a1a0f 25px,     /* Rich main plank */
      #4a2415 25px, #4a2415 27px,    /* Highlighted grain */
      #3a1a0f 27px, #3a1a0f 30px,    /* Main plank */
      #2f150b 30px, #2f150b 32px,    /* Deep grain shadow */
      #3a1a0f 32px, #3a1a0f 45px,    /* Main plank */
      #1a0a05 45px, #1a0a05 48px,    /* Deep plank gap */
      #3a1a0f 48px, #3a1a0f 73px,    /* Next plank */
      #4a2415 73px, #4a2415 75px,    /* Grain highlight */
      #3a1a0f 75px, #3a1a0f 78px,    /* Main plank */
      #2f150b 78px, #2f150b 80px,    /* Grain shadow */
      #3a1a0f 80px, #3a1a0f 95px,    /* Main plank */
      #1a0a05 95px, #1a0a05 98px     /* Plank separation */
    ),
    /* Enhanced horizontal wood grain texture */
    repeating-linear-gradient(
      90deg,
      transparent 0px, transparent 2px,
      rgba(60, 28, 13, 0.3) 3px, rgba(60, 28, 13, 0.3) 4px,
      transparent 4px, transparent 8px,
      rgba(42, 18, 10, 0.2) 8px, rgba(42, 18, 10, 0.2) 9px,
      transparent 9px, transparent 15px
    );
  border: 4px solid #2d1810;
  border-image: linear-gradient(45deg, #1a0a05, #4a2415, #1a0a05, #2d1810) 1;
  border-radius: 12px;
  padding: 20px;
  box-shadow: 
    /* Main depth shadow */
    0 8px 25px rgba(0, 0, 0, 0.4),
    0 4px 10px rgba(0, 0, 0, 0.3),
    /* Inner bevel effect */
    inset 0 2px 0 rgba(139, 69, 19, 0.3),
    inset 0 -2px 0 rgba(26, 10, 5, 0.8),
    inset 2px 0 0 rgba(74, 36, 21, 0.2),
    inset -2px 0 0 rgba(26, 10, 5, 0.4);
  position: relative;
  margin-bottom: 20px;
  color: #f5deb3;
  /* Add subtle inner glow */
  background-size: 100px 100px, 100px 100px, 200px 200px, 100% 100%, 15px 15px;
  overflow: hidden;
}

.panel h2 {
  margin: 0 0 15px 0;
  text-shadow: 
    1px 1px 2px rgba(0, 0, 0, 0.5),
    0 0 10px rgba(218, 165, 32, 0.3);
  border-bottom: 3px solid transparent;
  border-image: linear-gradient(90deg, 
    transparent 0%, 
    #8b4513 20%, 
    #daa520 50%, 
    #8b4513 80%, 
    transparent 100%) 1;
  padding: 0 40px 12px 40px; /* Add horizontal padding for decorative elements */
  font-size: 1.2em;
  color: #daa520;
  font-weight: bold;
  position: relative;
  overflow: hidden;
  text-align: center; /* Center the title text */
}

/* Celtic knot decorations for panel headers - static */
.panel h2::before,
.panel h2::after {
  content: "âšœ";
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  color: #cd853f;
  font-size: 1.2em;
  text-shadow: 0 0 8px rgba(205, 133, 63, 0.6);
  /* Removed animation */
}

.panel h2::before {
  left: 0;
}

.panel h2::after {
  right: 0;
}

/* Chief Section */
.chief-section {
  text-align: center;
  position: relative;
}

.chief-sprite {
  width: 80px;
  height: 80px;
  background: 
    /* Subtle aura */
    radial-gradient(circle at 30% 30%, rgba(255, 215, 0, 0.2) 0%, transparent 60%),
    radial-gradient(circle at 70% 70%, rgba(218, 165, 32, 0.1) 0%, transparent 60%),
    /* Main gradient */
    linear-gradient(135deg, #cd853f 0%, #b8860b 30%, #daa520 60%, #8b4513 100%);
  border: 3px solid #8b4513;
  border-radius: 50%;
  margin: 0 auto 15px;
  position: relative;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2em;
  box-shadow: 
    /* Subtle outer glow */
    0 0 15px rgba(218, 165, 32, 0.3),
    0 4px 15px rgba(0, 0, 0, 0.3),
    /* Inner depth */
    inset 0 2px 0 rgba(255, 215, 0, 0.3),
    inset 0 -2px 0 rgba(139, 69, 19, 0.5);
  /* Removed breathing animation */
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
}

.chief-sprite.clickable:hover {
  transform: translateY(-3px) scale(1.05);
  box-shadow: 
    /* Enhanced glow for better clickability feedback */
    0 0 25px rgba(255, 215, 0, 0.6),
    0 8px 25px rgba(218, 165, 32, 0.4),
    0 5px 15px rgba(0, 0, 0, 0.4),
    /* Enhanced inner glow */
    inset 0 4px 0 rgba(255, 215, 0, 0.5),
    inset 0 -4px 0 rgba(139, 69, 19, 0.7);
}

.chief-sprite.clickable:active {
  transform: translateY(1px) scale(1.02);
  box-shadow: 
    0 2px 15px rgba(255, 215, 0, 0.5),
    inset 0 2px 0 rgba(255, 255, 255, 0.4);
}

/* Disabled state for cooldown */
.chief-sprite.disabled {
  opacity: 0.6;
  cursor: not-allowed;
  pointer-events: none;
}

.chief-sprite.disabled:hover {
  transform: none !important;
  box-shadow: 
    0 0 15px rgba(218, 165, 32, 0.2),
    0 4px 15px rgba(0, 0, 0, 0.2),
    inset 0 2px 0 rgba(255, 215, 0, 0.2),
    inset 0 -2px 0 rgba(139, 69, 19, 0.3);
}

/* Buttons */
button { 
  background: linear-gradient(135deg, #4CAF50 0%, #66bb6a 100%);
  color: white;
  border: 2px solid #2e7d32;
  border-radius: 8px;
  padding: 12px 18px;
  font-family: 'Segoe UI', 'Roboto', sans-serif;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 
    0 4px 10px rgba(76, 175, 80, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  margin: 5px;
  font-size: 14px;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 
    0 6px 15px rgba(76, 175, 80, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  background: linear-gradient(135deg, #66bb6a 0%, #4CAF50 100%);
}

button:active {
  transform: translateY(0px);
  box-shadow: 
    0 2px 5px rgba(76, 175, 80, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

button:disabled {
  background: linear-gradient(135deg, #bdbdbd 0%, #9e9e9e 100%);
  color: #757575;
  box-shadow: none;
  cursor: not-allowed;
  transform: none;
}

/* Button Variants */
.upgrade-btn {
  background: linear-gradient(135deg, #ff9800 0%, #ffb74d 100%);
  border-color: #f57c00;
  box-shadow: 
    0 4px 10px rgba(255, 152, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
}

.upgrade-btn:hover:not(:disabled):not(.unaffordable) {
  background: linear-gradient(135deg, #ffb74d 0%, #ff9800 100%);
  box-shadow: 
    0 6px 15px rgba(255, 152, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  transform: translateY(-2px);
}

/* Affordable upgrade state */
.upgrade-btn.affordable {
  background: linear-gradient(135deg, #ff9800 0%, #ffb74d 100%);
  border-color: #f57c00;
  opacity: 1;
  cursor: pointer;
}

.upgrade-btn.affordable:hover {
  background: linear-gradient(135deg, #ffb74d 0%, #ff9800 100%);
  transform: translateY(-2px);
  box-shadow: 
    0 6px 15px rgba(255, 152, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

/* Unaffordable upgrade state */
.upgrade-btn.unaffordable, .upgrade-btn:disabled {
  background: linear-gradient(135deg, #757575 0%, #616161 100%);
  border-color: #424242;
  color: #bdbdbd;
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.upgrade-btn.unaffordable:hover, .upgrade-btn:disabled:hover {
  background: linear-gradient(135deg, #757575 0%, #616161 100%);
  transform: none;
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.buy-btn {
  background: 
    /* Metallic texture */
    radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.3) 0%, transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(0, 0, 0, 0.2) 0%, transparent 50%),
    /* Bronze/copper metallic gradient */
    linear-gradient(135deg, #cd853f 0%, #b8860b 30%, #daa520 60%, #cd853f 100%);
  border: 2px solid #8b4513;
  border-radius: 6px;
  width: 44px;
  height: 44px; /* Square, 2-line height */
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75em;
  font-weight: bold;
  line-height: 1.1;
  text-align: center;
  white-space: nowrap;
  flex-shrink: 0;
  box-shadow: 
    /* Outer shadow */
    0 3px 8px rgba(139, 69, 19, 0.4),
    0 2px 4px rgba(0, 0, 0, 0.2),
    /* Inner metallic bevel */
    inset 0 1px 0 rgba(255, 255, 255, 0.4),
    inset 0 -1px 0 rgba(139, 69, 19, 0.6),
    inset 1px 0 0 rgba(255, 255, 255, 0.2),
    inset -1px 0 0 rgba(139, 69, 19, 0.4);
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

.buy-btn:hover:not(:disabled):not(.unaffordable) {
  background: 
    /* Enhanced metallic shine on hover */
    radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.5) 0%, transparent 60%),
    radial-gradient(circle at 70% 70%, rgba(255, 215, 0, 0.3) 0%, transparent 50%),
    /* Brighter metallic gradient */
    linear-gradient(135deg, #daa520 0%, #cd853f 30%, #ffd700 60%, #daa520 100%);
  box-shadow: 
    /* Enhanced hover shadow */
    0 8px 20px rgba(218, 165, 32, 0.5),
    0 4px 12px rgba(0, 0, 0, 0.3),
    /* Enhanced inner bevel */
    inset 0 3px 0 rgba(255, 255, 255, 0.6),
    inset 0 -3px 0 rgba(139, 69, 19, 0.8),
    inset 3px 0 0 rgba(255, 255, 255, 0.3),
    inset -3px 0 0 rgba(139, 69, 19, 0.5),
    /* Outer glow */
    0 0 15px rgba(255, 215, 0, 0.3);
  transform: translateY(-1px) scale(1.08);
}

/* Affordable state - bright and inviting */
.buy-btn.affordable {
  background: linear-gradient(135deg, #2196F3 0%, #42a5f5 100%);
  border-color: #1565c0;
  opacity: 1;
  cursor: pointer;
}

.buy-btn.affordable:hover {
  background: linear-gradient(135deg, #42a5f5 0%, #2196F3 100%);
  transform: translateY(-2px);
  box-shadow: 
    0 6px 15px rgba(33, 150, 243, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

/* Unaffordable state - grayed out */
.buy-btn.unaffordable, .buy-btn:disabled {
  background: linear-gradient(135deg, #757575 0%, #616161 100%);
  border-color: #424242;
  color: #bdbdbd;
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.buy-btn.unaffordable:hover, .buy-btn:disabled:hover {
  background: linear-gradient(135deg, #757575 0%, #616161 100%);
  transform: none;
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.attack-btn {
  background: linear-gradient(135deg, #f44336 0%, #ef5350 100%);
  border-color: #c62828;
  box-shadow: 
    0 4px 10px rgba(244, 67, 54, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.attack-btn:hover {
  background: linear-gradient(135deg, #ef5350 0%, #f44336 100%);
  box-shadow: 
    0 6px 15px rgba(244, 67, 54, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

/* Progress Bars */
.progress-container { 
  width: 100%; 
  height: 16px; 
  background: 
    repeating-linear-gradient(
      90deg,
      #333 0px,
      #333 2px,
      #222 2px,
      #222 4px
    );
  border: 2px solid #000;
  margin: 12px 0;
  overflow: hidden;
  box-shadow: 
    inset 0 0 0 1px #555,
    inset 0 0 0 2px #000;
}

.progress-bar { 
  height: 100%; 
  background: 
    repeating-linear-gradient(
      90deg,
      #32CD32 0px,
      #32CD32 2px,
      #228B22 2px,
      #228B22 4px
    );
  width: 0%; 
  transition: width 0.1s linear;
  position: relative;
}

.progress-bar::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: rgba(255, 255, 255, 0.3);
}

/* Generators - Compact Layout */
.generator-item {
  background: 
    /* Parchment texture overlay */
    radial-gradient(circle at 25% 25%, rgba(139, 119, 101, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 75% 75%, rgba(160, 140, 120, 0.1) 0%, transparent 50%),
    /* Age spots and stains */
    radial-gradient(circle at 10% 90%, rgba(139, 115, 85, 0.08) 0%, transparent 30%),
    radial-gradient(circle at 90% 10%, rgba(160, 130, 98, 0.06) 0%, transparent 40%),
    /* Parchment base */
    linear-gradient(145deg, #f5f0e8 0%, #f0e6d2 50%, #e8d7bb 100%);
  border: 3px solid #d4af37;
  border-image: linear-gradient(45deg, #b8860b, #daa520, #b8860b, #cd853f) 1;
  border-radius: 8px;
  padding: 8px;
  margin: 8px 0;
  display: flex;
  align-items: center;
  gap: 12px;
  height: 60px; /* Fixed compact height */
  box-shadow: 
    /* Main shadow */
    0 4px 12px rgba(212, 175, 55, 0.2),
    0 2px 6px rgba(0, 0, 0, 0.1),
    /* Inner parchment effect */
    inset 0 1px 0 rgba(255, 255, 255, 0.8),
    inset 0 -1px 0 rgba(139, 115, 85, 0.3),
    inset 1px 0 0 rgba(255, 255, 255, 0.6),
    inset -1px 0 0 rgba(139, 115, 85, 0.2);
  position: relative;
  transition: all 0.3s ease;
  overflow: hidden;
}

/* Generator hover effects */
.generator-item:hover {
  transform: translateY(-3px) scale(1.02);
  box-shadow: 
    /* Enhanced hover shadow */
    0 12px 30px rgba(212, 175, 55, 0.3),
    0 6px 15px rgba(0, 0, 0, 0.15),
    /* Inner parchment glow */
    inset 0 2px 0 rgba(255, 255, 255, 0.9),
    inset 0 -2px 0 rgba(139, 115, 85, 0.4),
    inset 2px 0 0 rgba(255, 255, 255, 0.7),
    inset -2px 0 0 rgba(139, 115, 85, 0.3),
    /* Outer glow */
    0 0 20px rgba(218, 165, 32, 0.4);
}

/* Add subtle animation to generator items */
@keyframes gentleFloat {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-2px); }
}

.generator-item:nth-child(odd) {
  animation: gentleFloat 6s ease-in-out infinite;
  animation-delay: 0s;
}

.generator-item:nth-child(even) {
  animation: gentleFloat 6s ease-in-out infinite;
  animation-delay: 3s;
}

.generator-sprite {
  width: 44px;
  height: 44px; /* Square, 2-line height */
  border: 2px solid transparent;
  border-image: linear-gradient(45deg, #8b4513, #cd853f, #8b4513) 1;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.4em;
  flex-shrink: 0;
  background: 
    radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.2) 0%, transparent 60%),
    linear-gradient(135deg, #f5f0e8 0%, #e8d7bb 100%);
  box-shadow: 
    0 2px 6px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255,255,255,0.6),
    inset 0 -1px 0 rgba(139, 115, 85, 0.3);
  transition: all 0.2s ease;
}

.villager-sprite { 
  background: linear-gradient(135deg, #8bc34a 0%, #aed581 100%);
  border-color: #689f38;
}
.warrior-sprite { 
  background: linear-gradient(135deg, #ff5722 0%, #ff7043 100%);
  border-color: #d84315;
}
.seer-sprite { 
  background: linear-gradient(135deg, #4b0082 0%, #663399 100%);
  border-color: #2e004f;
}
.elite-sprite { 
  background: linear-gradient(135deg, #ffc107 0%, #ffd54f 100%);
  border-color: #ff8f00;
}

.generator-info {
  flex: 1;
  color: #1a1a1a;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 2px;
  height: 44px; /* Match sprite height */
}

.generator-line1 {
  font-size: 0.9em;
  font-weight: bold;
  line-height: 1.1;
}

.generator-line2 {
  font-size: 0.85em;
  color: #2d7d32;
  font-weight: bold;
  line-height: 1.1;
}

.generator-count {
  font-size: 1.2em;
  font-weight: bold;
  color: #1a6b1a;
}

.generator-total {
  font-size: 1.0em;
  font-weight: bold;
  color: #2d7d32;
  margin-top: 4px;
}

/* Chief display styles */
.chief-display {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 15px;
}

.chief-info {
  flex: 1;
}

/* Warrior input group */
.warrior-input-group {
  display: flex;
  align-items: center;
  gap: 5px;
}

.warrior-input-group input[type="number"] {
  flex: 1;
  min-width: 100px;
}

.max-btn {
  background: #4caf50;
  color: white;
  border: 2px solid #2e7d32;
  border-radius: 4px;
  padding: 8px 12px;
  cursor: pointer;
  font-weight: bold;
  transition: all 0.2s;
}

.max-btn:hover {
  background: #45a049;
  transform: translateY(-1px);
}

.max-btn:active {
  transform: translateY(0);
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
}

/* Chief Enhanced Features */
.click-streak, .generator-bonus {
  background: rgba(255, 193, 7, 0.2);
  border: 1px solid #ffc107;
  border-radius: 4px;
  padding: 5px 10px;
  margin: 5px 0;
  font-size: 0.9em;
  color: #ff8f00;
  font-weight: bold;
  transition: all 0.3s ease;
}

/* High streak visual enhancement */
.click-streak.high-streak {
  background: rgba(255, 87, 34, 0.3);
  border: 2px solid #ff5722;
  color: #ff3d00;
  animation: streakPulse 1s infinite alternate;
  box-shadow: 0 0 10px rgba(255, 87, 34, 0.5);
}

@keyframes streakPulse {
  from { 
    transform: scale(1); 
    box-shadow: 0 0 10px rgba(255, 87, 34, 0.5);
  }
  to { 
    transform: scale(1.02); 
    box-shadow: 0 0 15px rgba(255, 87, 34, 0.7);
  }
}

.chief-skills {
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid #654321;
}

.chief-skills h4 {
  margin: 0 0 6px 0; /* Reduce header margin */
  font-size: 0.9em; /* Smaller header */
}

.skill-buttons {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 6px;
  margin-top: 8px;
}

.skill-btn {
  background: linear-gradient(145deg, #4caf50, #2e7d32);
  color: white;
  border: 2px solid #1b5e20;
  border-radius: 6px;
  padding: 6px 4px;
  cursor: pointer;
  font-weight: bold;
  transition: all 0.3s;
  min-height: 40px; /* Reduced from 60px */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: 0.8em; /* Smaller text */
}

.skill-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
}

.skill-btn:active:not(:disabled) {
  transform: translateY(0);
}

.skill-btn:disabled {
  background: linear-gradient(145deg, #666, #444);
  border-color: #333;
  opacity: 0.6;
  cursor: not-allowed;
}

.skill-btn small {
  font-size: 0.65em; /* Even smaller */
  margin-top: 1px;
  opacity: 0.9;
  line-height: 1.1; /* Tighter line spacing */
}

.rally-btn:not(:disabled) {
  background: linear-gradient(145deg, #ff5722, #d84315);
  border-color: #bf360c;
}

.inspire-btn:not(:disabled) {
  background: linear-gradient(145deg, #2196f3, #1565c0);
  border-color: #0d47a1;
}

.fortune-btn:not(:disabled) {
  background: linear-gradient(145deg, #ff9800, #f57c00);
  border-color: #e65100;
}

/* Prestige Panel */
.prestige-panel {
  background: linear-gradient(145deg, #4a148c, #6a1b9a);
  border: 3px solid #9c27b0;
  color: white;
}

.prestige-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 20px;
}

.prestige-stats {
  flex: 1;
}

.prestige-stats div {
  margin: 8px 0;
  font-weight: bold;
}

.prestige-action {
  flex-shrink: 0;
}

.prestige-btn {
  background: linear-gradient(145deg, #9c27b0, #7b1fa2);
  color: white;
  border: 2px solid #4a148c;
  border-radius: 12px;
  padding: 15px 20px;
  cursor: pointer;
  font-weight: bold;
  font-size: 1.1em;
  transition: all 0.3s;
  min-width: 120px;
  text-align: center;
}

.prestige-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(156, 39, 176, 0.4);
  background: linear-gradient(145deg, #ab47bc, #8e24aa);
}

.prestige-btn:active:not(:disabled) {
  transform: translateY(0);
}

.prestige-btn:disabled {
  background: linear-gradient(145deg, #666, #444);
  border-color: #333;
  opacity: 0.6;
  cursor: not-allowed;
}

.prestige-btn small {
  font-size: 0.8em;
  margin-top: 2px;
  opacity: 0.9;
}

/* Desktop - compact square layout */
@media (min-width: 769px) {
  .generator-item {
    display: flex !important;
    align-items: center;
    gap: 15px;
    height: 60px;
    padding: 8px;
  }
  
  .generator-sprite {
    width: 44px;
    height: 44px;
    font-size: 1.4em;
  }
  
  .generator-info {
    flex: 1;
    display: flex !important;
    flex-direction: column;
    justify-content: center;
    height: 44px;
    gap: 2px;
  }
  
  .generator-line1 {
    font-size: 0.9em;
    font-weight: bold;
  }
  
  .generator-line2 {
    font-size: 0.85em;
    color: #2d7d32;
    font-weight: bold;
  }
  
  .buy-btn {
    width: 44px;
    height: 44px;
    font-size: 0.75em;
    flex-shrink: 0;
  }
}

/* Mobile responsiveness for new elements */
@media (max-width: 768px) {
  .skill-buttons {
    grid-template-columns: repeat(3, 1fr); /* Keep 3 columns on mobile too */
    gap: 4px; /* Smaller gap on mobile */
  }
  
  .skill-btn {
    min-height: 35px; /* Even smaller on mobile */
    padding: 4px 2px;
    font-size: 0.7em;
  }
  
  .skill-btn small {
    font-size: 0.6em;
  }
  
  .prestige-info {
    flex-direction: column;
    text-align: center;
  }
  
  .prestige-action {
    margin-top: 15px;
  }
}

/* Combat Section */
.camp-selection {
  padding: 15px;
  margin: 15px 0;
}

.camp-item {
  background: linear-gradient(145deg, #fff3cd 0%, #ffeaa7 100%);
  border: 2px solid #ffc107;
  border-radius: 10px;
  padding: 15px;
  margin: 10px 0;
  display: flex;
  align-items: center;
  gap: 15px;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 
    0 3px 10px rgba(255, 193, 7, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
}

.camp-item:hover {
  transform: translateY(-2px);
  box-shadow: 
    0 5px 15px rgba(255, 193, 7, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
  border-color: #f57c00;
}

.camp-item.selected {
  border-color: #f57c00;
  background: linear-gradient(145deg, #ffecb3 0%, #ffc107 100%);
  box-shadow: 
    0 5px 15px rgba(255, 152, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);
}

.camp-sprite {
  width: 50px;
  height: 50px;
  border: 2px solid #424242;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5em;
  flex-shrink: 0;
  background: linear-gradient(135deg, #8bc34a 0%, #aed581 100%);
  box-shadow: 
    0 3px 8px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255,255,255,0.3);
}

.camp-info {
  flex: 1;
  color: #1a1a1a;
}

.camp-details {
  font-size: 1.1em;
  font-weight: bold;
  color: #1a6b1a;
  margin: 4px 0;
}

.camp-difficulty {
  font-size: 0.9em;
  color: #666;
  font-style: italic;
}

.combat-controls {
  background: 
    /* Single horizontal wood plank */
    repeating-linear-gradient(
      0deg,
      #30140a 0px, #30140a 15px,
      #3c1c0d 15px, #3c1c0d 16px,
      #30140a 16px, #30140a 20px,
      #2a120a 20px, #2a120a 21px,
      #30140a 21px, #30140a 35px
    );
  border: 2px solid #1f0d07;
  border-radius: 8px;
  padding: 15px;
  margin: 15px 0;
  text-align: center;
  color: #f5deb3;
}

.attack-result {
  background: linear-gradient(145deg, #f0f4ff 0%, #e6f0ff 100%);
  padding: 15px;
  border: 2px solid #99ccff;
  border-radius: 10px;
  margin: 15px 0;
  min-height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 
    0 3px 10px rgba(153, 204, 255, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);
  font-weight: bold;
}

.success { color: #4CAF50; }
.failure { color: #f44336; }
.cooldown { color: #ff9800; }

/* Form Elements */
select, input {
  background: linear-gradient(145deg, #f8f9fa 0%, #e9ecef 100%);
  color: #495057;
  border: 2px solid #ced4da;
  border-radius: 6px;
  padding: 8px;
  font-family: 'Segoe UI', 'Roboto', sans-serif;
  font-size: 14px;
  box-shadow: 
    0 2px 5px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255,255,255,0.5);
}

/* Stats */
.stats-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 8px 0;
  padding: 10px;
  background: 
    /* Single horizontal wood plank */
    repeating-linear-gradient(
      0deg,
      #30140a 0px, #30140a 15px,      /* Main plank */
      #3c1c0d 15px, #3c1c0d 16px,    /* Grain line */
      #30140a 16px, #30140a 20px,    /* Main plank */
      #2a120a 20px, #2a120a 21px,    /* Dark grain */
      #30140a 21px, #30140a 35px     /* Main plank */
    ),
    /* Horizontal grain texture */
    repeating-linear-gradient(
      90deg,
      transparent 0px, transparent 4px,
      rgba(60, 28, 13, 0.2) 4px, rgba(60, 28, 13, 0.2) 5px,
      transparent 5px, transparent 12px
    );
  border: 2px solid #1f0d07;
  border-radius: 6px;
  box-shadow: 
    0 2px 5px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(92, 51, 23, 0.3);
  color: #f5deb3;
}

/* Building Styles */
.building-section {
  text-align: center;
}

.building-display {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 20px;
  background: linear-gradient(145deg, #fff8e1 0%, #ffecb3 100%);
  border: 2px solid #ffcc02;
  border-radius: 10px;
  padding: 15px;
  box-shadow: 
    0 3px 10px rgba(255, 204, 2, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
}

.building-sprite {
  width: 80px;
  height: 80px;
  background: linear-gradient(135deg, #795548 0%, #8d6e63 100%);
  border: 3px solid #5d4037;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2.5em;
  box-shadow: 
    0 4px 15px rgba(121, 85, 72, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  transition: transform 0.2s ease;
  flex-shrink: 0;
}

.building-sprite:hover {
  transform: translateY(-2px);
  box-shadow: 
    0 6px 20px rgba(121, 85, 72, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.building-info {
  flex: 1;
  text-align: left;
}

.building-info h3 {
  margin: 0 0 10px 0;
  color: #daa520;
  font-size: 1.3em;
  font-weight: bold;
}

.building-info p {
  margin: 0;
  color: #666;
  font-size: 0.9em;
  line-height: 1.4;
}

.building-upgrade {
  margin-bottom: 20px;
}

.generator-upgrades {
  border-top: 2px solid #654321;
  padding-top: 20px;
  margin-top: 20px;
}

.generator-upgrades h3 {
  text-align: center;
  margin-bottom: 20px;
  color: #ffd700;
}

.upgrade-category {
  background: 
    /* Horizontal wood planks pattern */
    repeating-linear-gradient(
      0deg,
      #30140a 0px, #30140a 30px,      /* Main plank */
      #3c1c0d 30px, #3c1c0d 32px,    /* Wood grain */
      #30140a 32px, #30140a 35px,    /* Main plank */
      #2a120a 35px, #2a120a 37px,    /* Dark grain */
      #30140a 37px, #30140a 60px,    /* Main plank */
      #1f0d07 60px, #1f0d07 63px,    /* Plank gap */
      #30140a 63px, #30140a 93px,    /* Next plank */
      #3c1c0d 93px, #3c1c0d 95px,    /* Wood grain */
      #30140a 95px, #30140a 98px,    /* Main plank */
      #2a120a 98px, #2a120a 100px,   /* Dark grain */
      #30140a 100px, #30140a 120px   /* Main plank */
    ),
    /* Subtle grain texture */
    repeating-linear-gradient(
      90deg,
      transparent 0px, transparent 5px,
      rgba(60, 28, 13, 0.15) 5px, rgba(60, 28, 13, 0.15) 6px,
      transparent 6px, transparent 15px
    );
  border: 2px solid #1f0d07;
  border-radius: 10px;
  padding: 15px;
  margin: 10px 0;
  box-shadow: 
    0 3px 8px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(92, 51, 23, 0.4);
  color: #f5deb3;
}

.upgrade-category h4 {
  margin: 0 0 15px 0;
  color: #daa520;
  font-weight: bold;
  border-bottom: 2px solid #5c3317;
  padding-bottom: 8px;
}

.upgrade-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  justify-content: center;
}

.small-upgrade-btn {
  background: linear-gradient(135deg, #8b4513 0%, #a0522d 100%);
  border-color: #654321;
  box-shadow: 
    0 3px 8px rgba(139, 69, 19, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  font-size: 12px;
  padding: 8px 12px;
  min-width: 120px;
  text-align: center;
}

.small-upgrade-btn:hover {
  background: linear-gradient(135deg, #a0522d 0%, #8b4513 100%);
  box-shadow: 
    0 4px 12px rgba(139, 69, 19, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  transform: translateY(-1px);
}

.small-upgrade-btn:active {
  transform: translateY(0px);
  box-shadow: 
    0 2px 4px rgba(139, 69, 19, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.small-upgrade-btn:disabled {
  background: linear-gradient(135deg, #bdbdbd 0%, #9e9e9e 100%);
  color: #757575;
  box-shadow: none;
}

/* Fixed Reset Button at Bottom */
.reset-container {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(135deg, #ffeb3b 0%, #ffc107 100%);
  border-top: 3px solid #ff8f00;
  padding: 10px;
  text-align: center;
  z-index: 1000;
  box-shadow: 
    0 -4px 15px rgba(255, 193, 7, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease;
}

.reset-container.visible {
  opacity: 1;
  visibility: visible;
}

.reset-btn {
  background: #d32f2f !important;
  color: white !important;
  border: 2px solid #b71c1c !important;
  border-radius: 8px !important;
  padding: 10px 20px !important;
  cursor: pointer !important;
  font-size: 14px !important;
  font-weight: bold !important;
  margin: 0 !important;
  min-height: 44px;
  transition: all 0.2s ease;
}

.reset-btn:hover {
  background: #b71c1c !important;
  transform: translateY(-2px);
  box-shadow: 
    0 4px 12px rgba(211, 47, 47, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.reset-btn:active {
  transform: translateY(0px);
}

/* Adventure System Styles */

/* Adventure Toggle Button */
.adventure-toggle {
  position: fixed;
  top: 10px;
  right: 10px;
  z-index: 2000;
}

.adventure-toggle-btn {
  background: linear-gradient(145deg, #8b4513, #a0522d) !important;
  color: white !important;
  border: 3px solid #654321 !important;
  border-radius: 10px !important;
  padding: 12px 20px !important;
  font-size: 16px !important;
  font-weight: bold !important;
  cursor: pointer !important;
  box-shadow: 
    0 6px 20px rgba(139, 69, 19, 0.4),
    inset 0 2px 0 rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease !important;
}

.adventure-toggle-btn:hover {
  background: linear-gradient(145deg, #a0522d, #8b4513) !important;
  transform: translateY(-2px);
  box-shadow: 
    0 8px 25px rgba(139, 69, 19, 0.5),
    inset 0 2px 0 rgba(255, 255, 255, 0.3);
}

.adventure-toggle-btn:active {
  transform: translateY(0px);
}

/* Adventure Panel */
.adventure-panel {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  display: grid;
  grid-template-columns: 1fr;
  gap: 20px;
}

.adventure-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: linear-gradient(145deg, #8b4513, #a0522d);
  padding: 15px 25px;
  border-radius: 15px;
  border: 4px solid #654321;
  box-shadow: 
    0 8px 30px rgba(139, 69, 19, 0.4),
    inset 0 2px 0 rgba(255, 255, 255, 0.2);
}

.adventure-header h1 {
  color: white;
  margin: 0;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.village-return-btn {
  background: #2e7d32 !important;
  color: white !important;
  border: 2px solid #1b5e20 !important;
  border-radius: 8px !important;
  padding: 8px 16px !important;
  cursor: pointer !important;
  font-size: 14px !important;
  transition: all 0.2s ease !important;
}

.village-return-btn:hover {
  background: #388e3c !important;
  transform: translateY(-1px);
}

/* Hero Panel Styles */
.hero-panel {
  background: linear-gradient(145deg, #2e7d32, #388e3c);
}

.hero-display {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 20px;
}

.hero-sprite {
  font-size: 64px;
  background: linear-gradient(145deg, #ffffff, #e0e0e0);
  border-radius: 50%;
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 
    0 6px 20px rgba(0, 0, 0, 0.3),
    inset 0 2px 0 rgba(255, 255, 255, 0.5);
}

.hero-stats {
  flex: 1;
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 20px;
}

.hero-info h3 {
  margin: 0 0 10px 0;
  color: white;
  font-size: 18px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.stat-bars {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.stat-bar {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.stat-bar label {
  color: white;
  font-weight: bold;
  font-size: 14px;
}

.progress-container {
  width: 200px;
  height: 10px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 5px;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.progress-bar {
  height: 100%;
  transition: width 0.3s ease;
}

.progress-bar.hp {
  background: linear-gradient(90deg, #e53935, #f44336);
}

.progress-bar.exp {
  background: linear-gradient(90deg, #ffa726, #ff9800);
}

.progress-bar.enemy-hp {
  background: linear-gradient(90deg, #d32f2f, #b71c1c);
}

.hero-combat-stats {
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: flex-end;
}

.stat-item {
  background: rgba(255, 255, 255, 0.1);
  padding: 8px 12px;
  border-radius: 8px;
  color: white;
  font-weight: bold;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

/* Rest Status */
.rest-status {
  background: linear-gradient(145deg, #ff9800, #f57c00);
  padding: 15px;
  border-radius: 10px;
  text-align: center;
  color: white;
  font-weight: bold;
  border: 3px solid #ef6c00;
  margin-bottom: 20px;
}

.rest-status p {
  margin: 0;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

/* Adventure Controls */
.adventure-controls {
  display: flex;
  gap: 10px;
  justify-content: center;
}

.start-adventure-btn, .stop-adventure-btn {
  padding: 12px 24px !important;
  font-size: 16px !important;
  font-weight: bold !important;
  border-radius: 10px !important;
  cursor: pointer !important;
  transition: all 0.3s ease !important;
}

.start-adventure-btn {
  background: linear-gradient(145deg, #4caf50, #2e7d32) !important;
  color: white !important;
  border: 3px solid #1b5e20 !important;
}

.start-adventure-btn:hover:not(:disabled) {
  background: linear-gradient(145deg, #66bb6a, #4caf50) !important;
  transform: translateY(-2px);
}

.stop-adventure-btn {
  background: linear-gradient(145deg, #f44336, #d32f2f) !important;
  color: white !important;
  border: 3px solid #b71c1c !important;
}

.stop-adventure-btn:hover:not(:disabled) {
  background: linear-gradient(145deg, #ef5350, #f44336) !important;
  transform: translateY(-2px);
}

/* Combat Panel */
.combat-panel {
  background: linear-gradient(145deg, #5d4037, #6d4c41);
}

.combat-area {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 15px;
  padding: 20px;
  border: 3px solid #3e2723;
  position: relative;
  overflow: hidden;
  min-height: 250px;
}

.combat-participants {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 20px;
  align-items: center;
  margin-bottom: 20px;
  height: 150px;
}

.participant {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  position: relative;
}

.participant-sprite {
  font-size: 64px;
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  transition: all 0.3s ease;
  cursor: crosshair;
}

/* Hero Sprite Styling */
.hero-participant .participant-sprite {
  background: linear-gradient(145deg, #4caf50, #2e7d32);
  border: 3px solid #1b5e20;
  border-radius: 15px;
  box-shadow: 
    0 6px 20px rgba(76, 175, 80, 0.4),
    inset 0 2px 0 rgba(255, 255, 255, 0.3);
}

/* Enemy Sprite Styling */
.enemy-participant .participant-sprite {
  background: linear-gradient(145deg, #f44336, #d32f2f);
  border: 3px solid #b71c1c;
  border-radius: 15px;
  box-shadow: 
    0 6px 20px rgba(244, 67, 54, 0.4),
    inset 0 2px 0 rgba(255, 255, 255, 0.2);
}

/* Combat Animations */
.sprite-attacking {
  animation: attackAnimation 0.8s ease-in-out;
  z-index: 10;
}

.sprite-hit {
  animation: hitAnimation 0.6s ease-in-out;
  z-index: 5;
}

.sprite-idle {
  animation: idleAnimation 3s ease-in-out infinite;
}

@keyframes attackAnimation {
  0% {
    transform: translateX(0) scale(1);
  }
  30% {
    transform: translateX(15px) scale(1.1);
  }
  50% {
    transform: translateX(25px) scale(1.15) rotate(5deg);
    filter: brightness(1.3);
  }
  70% {
    transform: translateX(15px) scale(1.1) rotate(-2deg);
  }
  100% {
    transform: translateX(0) scale(1) rotate(0deg);
  }
}

@keyframes hitAnimation {
  0% {
    transform: translateX(0) rotate(0deg);
    filter: brightness(1);
  }
  25% {
    transform: translateX(-10px) rotate(-5deg);
    filter: brightness(1.5) hue-rotate(20deg);
  }
  50% {
    transform: translateX(-15px) rotate(3deg);
    filter: brightness(0.8) hue-rotate(-10deg);
  }
  75% {
    transform: translateX(-8px) rotate(-2deg);
    filter: brightness(1.2);
  }
  100% {
    transform: translateX(0) rotate(0deg);
    filter: brightness(1);
  }
}

@keyframes idleAnimation {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-3px);
  }
}

/* Enemy attack animation (moves left) */
.enemy-participant .sprite-attacking {
  animation: enemyAttackAnimation 0.8s ease-in-out;
}

@keyframes enemyAttackAnimation {
  0% {
    transform: translateX(0) scale(1);
  }
  30% {
    transform: translateX(-15px) scale(1.1);
  }
  50% {
    transform: translateX(-25px) scale(1.15) rotate(-5deg);
    filter: brightness(1.3);
  }
  70% {
    transform: translateX(-15px) scale(1.1) rotate(2deg);
  }
  100% {
    transform: translateX(0) scale(1) rotate(0deg);
  }
}

.participant-info {
  text-align: center;
  color: white;
}

.participant-info h4 {
  margin: 0 0 5px 0;
  font-size: 16px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.enemy-hp-bar {
  display: flex;
  flex-direction: column;
  gap: 5px;
  align-items: center;
}

.enemy-hp-bar label {
  font-size: 12px;
  color: white;
}

.combat-vs {
  font-size: 24px;
  font-weight: bold;
  color: #ff5722;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
  background: linear-gradient(145deg, rgba(255, 87, 34, 0.2), rgba(255, 87, 34, 0.3));
  padding: 10px 15px;
  border-radius: 10px;
  border: 2px solid #d84315;
}

.adventure-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 15px;
  margin-top: 20px;
}

.adventure-stats .stat-item {
  background: rgba(255, 255, 255, 0.1);
  padding: 12px;
  border-radius: 10px;
  text-align: center;
  color: white;
  font-weight: bold;
  border: 2px solid rgba(255, 255, 255, 0.2);
  box-shadow: inset 0 2px 0 rgba(255, 255, 255, 0.1);
}

/* Upgrades Panel */
.upgrades-panel {
  background: linear-gradient(145deg, #8b4513, #a0522d);
}

.upgrade-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
}

.upgrade-item {
  background: rgba(255, 255, 255, 0.1);
  border: 3px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  padding: 15px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: all 0.3s ease;
}

.upgrade-item:hover {
  background: rgba(255, 255, 255, 0.15);
  border-color: rgba(255, 255, 255, 0.3);
  transform: translateY(-2px);
}

.upgrade-info h4 {
  margin: 0 0 5px 0;
  color: white;
  font-size: 14px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.upgrade-info p {
  margin: 0;
  color: rgba(255, 255, 255, 0.8);
  font-size: 12px;
}

.upgrade-btn {
  background: linear-gradient(145deg, #2e7d32, #1b5e20) !important;
  color: white !important;
  border: 2px solid #0d4716 !important;
  border-radius: 8px !important;
  padding: 8px 12px !important;
  cursor: pointer !important;
  font-size: 12px !important;
  font-weight: bold !important;
  transition: all 0.2s ease !important;
  min-width: 70px;
}

.upgrade-btn:hover:not(:disabled) {
  background: linear-gradient(145deg, #388e3c, #2e7d32) !important;
  transform: translateY(-1px);
}

.upgrade-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Combat Effects */
.combat-effect {
  position: absolute;
  font-size: 20px;
  font-weight: bold;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
  pointer-events: none;
  z-index: 15;
  user-select: none;
}

.combat-effect.hero-damage {
  color: #4caf50;
  animation: heroDamage 1.2s ease-out forwards;
}

.combat-effect.enemy-damage {
  color: #f44336;
  animation: enemyDamage 1.2s ease-out forwards;
}

.combat-effect.critical {
  font-size: 24px;
  color: #ffd700;
  animation: criticalDamage 1.5s ease-out forwards;
}

@keyframes heroDamage {
  0% {
    opacity: 1;
    transform: translateY(0) scale(0.8);
  }
  20% {
    transform: translateY(-10px) scale(1.2);
  }
  100% {
    opacity: 0;
    transform: translateY(-40px) scale(1) translateX(10px);
  }
}

@keyframes enemyDamage {
  0% {
    opacity: 1;
    transform: translateY(0) scale(0.8);
  }
  20% {
    transform: translateY(-10px) scale(1.2);
  }
  100% {
    opacity: 0;
    transform: translateY(-40px) scale(1) translateX(-10px);
  }
}

@keyframes criticalDamage {
  0% {
    opacity: 1;
    transform: translateY(0) scale(0.5) rotate(-10deg);
  }
  25% {
    transform: translateY(-15px) scale(1.5) rotate(5deg);
    color: #ff6b35;
  }
  50% {
    transform: translateY(-25px) scale(1.3) rotate(-2deg);
    color: #ffd700;
  }
  100% {
    opacity: 0;
    transform: translateY(-50px) scale(1.1) rotate(0deg);
  }
}

/* Impact Effects */
.impact-effect {
  position: absolute;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 12;
}

.impact-effect.hero-impact {
  background: radial-gradient(circle, rgba(76, 175, 80, 0.6) 0%, rgba(76, 175, 80, 0) 70%);
  animation: heroImpact 0.6s ease-out forwards;
}

.impact-effect.enemy-impact {
  background: radial-gradient(circle, rgba(244, 67, 54, 0.6) 0%, rgba(244, 67, 54, 0) 70%);
  animation: enemyImpact 0.6s ease-out forwards;
}

@keyframes heroImpact {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  50% {
    transform: scale(1.5);
    opacity: 0.8;
  }
  100% {
    transform: scale(2);
    opacity: 0;
  }
}

@keyframes enemyImpact {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  50% {
    transform: scale(1.5);
    opacity: 0.8;
  }
  100% {
    transform: scale(2);
    opacity: 0;
  }
}

/* Particle Effects */
.particle-effect {
  position: absolute;
  width: 4px;
  height: 4px;
  background: #ffd700;
  border-radius: 50%;
  pointer-events: none;
  z-index: 11;
}

.particle-effect.spark {
  animation: sparkParticle 0.8s ease-out forwards;
}

@keyframes sparkParticle {
  0% {
    opacity: 1;
    transform: scale(1);
  }
  100% {
    opacity: 0;
    transform: scale(0) translateX(var(--random-x, 20px)) translateY(var(--random-y, -20px));
  }
}

/* Death Animation */
.sprite-dying {
  animation: deathAnimation 2s ease-in-out forwards;
}

@keyframes deathAnimation {
  0% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
    filter: brightness(1);
  }
  30% {
    transform: scale(1.1) rotate(5deg);
    filter: brightness(1.5) hue-rotate(20deg);
  }
  70% {
    transform: scale(0.9) rotate(-10deg);
    opacity: 0.7;
    filter: brightness(0.5) grayscale(0.5);
  }
  100% {
    transform: scale(0.8) rotate(-20deg);
    opacity: 0.3;
    filter: brightness(0.2) grayscale(1);
  }
}

/* Mobile Responsiveness for Adventure */
@media (max-width: 768px) {
  .adventure-toggle {
    top: 5px;
    right: 5px;
  }
  
  .adventure-toggle-btn {
    padding: 8px 12px !important;
    font-size: 14px !important;
  }
  
  .adventure-panel {
    padding: 10px;
  }
  
  .adventure-header {
    flex-direction: column;
    gap: 10px;
    text-align: center;
  }
  
  .hero-display {
    flex-direction: column;
    text-align: center;
  }
  
  .hero-stats {
    grid-template-columns: 1fr;
    text-align: center;
  }
  
  .hero-combat-stats {
    align-items: center;
  }
  
  .combat-participants {
    grid-template-columns: 1fr;
    gap: 10px;
  }
  
  .combat-vs {
    order: 1;
  }
  
  .hero-participant {
    order: 0;
  }
  
  .enemy-participant {
    order: 2;
  }
  
  .adventure-controls {
    flex-direction: column;
    gap: 10px;
  }
  
  .upgrade-grid {
    grid-template-columns: 1fr;
  }
}

/* Tablet and smaller screens */
@media (max-width: 768px) {
  body {
    font-size: 13px;
    padding: 10px;
  }
  
  h1 {
    font-size: 1.6em;
    margin-bottom: 15px;
  }
  
  .gold-display {
    font-size: 1.0em;
    padding: 12px;
    margin-bottom: 15px;
  }
  
  .panel {
    padding: 15px;
    margin-bottom: 10px;
  }
  
  .building-display {
    flex-direction: column;
    text-align: center;
    gap: 15px;
  }
  
  .building-info {
    text-align: center;
  }
  
  .upgrade-buttons {
    flex-direction: column;
    gap: 8px;
  }
  
  .small-upgrade-btn {
    width: 100%;
    min-width: auto;
    font-size: 12px;
    padding: 12px;
  }
  
  button {
    font-size: 14px;
    padding: 12px 16px;
    min-height: 44px; /* Better touch target */
  }
  
  .generator-item {
    gap: 12px;
    padding: 12px;
    margin: 8px 0;
  }
  
  .generator-sprite {
    width: 50px;
    height: 50px;
    font-size: 1.4em;
  }
}

/* Smartphone screens */
@media (max-width: 480px) {
  body {
    font-size: 14px;
    padding: 80px 8px 70px 8px; /* Adjusted for fixed elements */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
  }
  
  .game-container {
    grid-template-columns: 1fr;
    gap: 10px;
    max-width: 100%;
    width: 100%;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  
  h1 {
    font-size: 1.4em;
    margin-bottom: 10px;
    text-align: center;
    width: 100%;
    max-width: 400px;
  }
  
  .gold-display {
    font-size: 0.9em;
    padding: 10px;
    flex-wrap: wrap;
    justify-content: center;
  }
  
  .reset-btn {
    font-size: 12px !important;
    padding: 8px 16px !important;
  }
  
  .panel {
    padding: 12px;
    margin-bottom: 8px;
    border-radius: 8px;
    width: 100%;
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
  }
  
  .panel h2 {
    font-size: 1.1em;
    margin-bottom: 10px;
  }
  
  /* Generator improvements for mobile - compact layout */
  .generator-item {
    height: 50px; /* Even more compact on mobile */
    padding: 6px;
    gap: 8px;
    margin: 6px 0;
  }
  
  .generator-sprite {
    width: 38px;
    height: 38px;
    font-size: 1.2em;
  }
  
  .generator-info {
    height: 38px;
    gap: 1px;
  }
  
  .generator-line1 {
    font-size: 0.8em;
  }
  
  .generator-line2 {
    font-size: 0.75em;
  }
  
  .buy-btn {
    width: 38px;
    height: 38px;
    font-size: 0.7em;
  }
  
  .generator-count, .generator-total {
    font-size: 1.0em;
    margin: 2px 0;
  }
  
  /* Chief section mobile optimization */
  .chief-sprite {
    width: 70px;
    height: 70px;
    font-size: 1.8em;
  }
  
  #chiefBtn {
    width: 100%;
    min-height: 48px;
    margin: 10px 0;
  }
  
  /* Stats rows for mobile */
  .stats-row {
    flex-direction: column;
    gap: 8px;
    text-align: center;
  }
  
  .stats-row button {
    width: 100%;
  }
  
  /* Combat section mobile */
  .camp-selection {
    padding: 5px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  
  .camp-item {
    flex-direction: column;
    text-align: center;
    gap: 8px;
    padding: 12px;
    width: 100%;
    max-width: 300px;
    align-items: center;
    justify-content: center;
  }
  
  .camp-sprite {
    margin: 0 auto 8px auto;
  }
  
  .camp-info {
    width: 100%;
    text-align: center;
  }
  
  .combat-controls {
    width: 100%;
    max-width: 300px;
    margin: 15px auto;
  }
  
  .combat-controls input {
    width: 100%;
    margin: 8px 0;
    min-height: 44px;
    font-size: 16px; /* Prevents zoom on iOS */
    box-sizing: border-box;
  }
  
  .combat-controls label {
    display: block;
    width: 100%;
    text-align: center;
    margin-bottom: 5px;
  }
  
  .attack-btn {
    width: 100%;
    min-height: 48px;
    margin: 15px 0 10px 0;
  }
  
  .camp-cooldown {
    text-align: center;
    margin-top: 10px;
  }
  
  .attack-result {
    margin: 10px auto;
    max-width: 320px;
    text-align: center;
    word-wrap: break-word;
  }
  
  /* Building section mobile */
  .building-sprite {
    width: 60px;
    height: 60px;
    font-size: 2em;
  }
  
  .upgrade-category {
    padding: 10px;
    margin: 8px 0;
  }
  
  .upgrade-category h4 {
    font-size: 1.0em;
  }
  
  .small-upgrade-btn {
    font-size: 11px;
    padding: 10px;
    min-height: 40px;
  }
  
  /* Progress bars */
  .progress-container {
    height: 20px;
  }
}

/* Very small screens */
@media (max-width: 360px) {
  body {
    padding: 70px 5px 60px 5px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  
  .game-container {
    max-width: 340px;
  }
  
  h1 {
    font-size: 1.2em;
    max-width: 340px;
  }
  
  .gold-display {
    font-size: 0.8em;
    padding: 8px;
  }
  
  .panel {
    padding: 10px;
    max-width: 340px;
  }
  
  .generator-sprite {
    width: 45px;
    height: 45px;
    font-size: 1.3em;
  }
  
  .chief-sprite {
    width: 60px;
    height: 60px;
    font-size: 1.6em;
  }
}