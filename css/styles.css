/* Main Styles for Gallisch Dorp Game - Pixel Art Style */

/* Import pixel font */
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

/* Reset and Base Styles */
* { 
  box-sizing: border-box; 
}

body { 
  font-family: 'Segoe UI', 'Roboto', sans-serif; 
  margin: 0; 
  padding: 0; /* Remove padding - handled by flex layout now */
  background: 
    /* Mystical forest atmosphere */
    radial-gradient(ellipse at 20% 20%, rgba(34, 139, 34, 0.3) 0%, transparent 60%),
    radial-gradient(ellipse at 80% 80%, rgba(46, 125, 50, 0.2) 0%, transparent 60%),
    radial-gradient(ellipse at 50% 100%, rgba(27, 94, 32, 0.4) 0%, transparent 50%),
    /* Ancient magic glow */
    radial-gradient(circle at 10% 30%, rgba(139, 69, 19, 0.1) 0%, transparent 40%),
    radial-gradient(circle at 90% 70%, rgba(160, 82, 45, 0.1) 0%, transparent 40%),
    /* Base forest gradient */
    linear-gradient(135deg, #1b5e20 0%, #2e7d32 30%, #388e3c 60%, #1b5e20 100%);
  color: #1a1a1a;
  min-height: 100vh;
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  font-size: 14px;
  line-height: 1.5;
  position: relative;
  overflow-x: hidden;
}

/* Layout - New Tab System */
.game-container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  max-width: 1200px;
  margin: 0 auto;
  padding-top: 50px; /* Space for single clean header */
}

/* Single Clean Header */
.main-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background: linear-gradient(135deg, #1b5e20, #2e7d32);
  border-bottom: 1px solid #4caf50;
  z-index: 1000;
  padding: 4px 0;
}

.header-content {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 15px;
}

.game-title {
  color: white;
  font-size: 1.2em;
  font-weight: bold;
}

.gold-info {
  display: flex;
  align-items: center;
  gap: 10px;
  color: white;
  font-size: 1em;
}

.gps-info {
  color: #81c784;
  font-size: 0.9em;
}

/* Tab Content Container */
.tab-content-container {
  flex: 1;
  padding: 20px;
  padding-bottom: 90px; /* Space for bottom nav */
  overflow-y: auto;
  max-height: calc(100vh - 130px); /* Fixed header height + bottom nav height */
}

.tab-content {
  display: none;
  animation: fadeIn 0.3s ease;
}

.tab-content.active {
  display: block;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Bottom Navigation - Fixed Full Width */
.bottom-nav {
  position: fixed !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  background: linear-gradient(145deg, #1b5e20, #2e7d32) !important;
  border-top: 3px solid #4caf50 !important;
  display: flex !important;
  padding: 0 !important;
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3) !important;
  z-index: 9999 !important;
  height: 70px !important;
  width: 100% !important;
}

.nav-btn {
  background: none !important;
  border: none !important;
  color: rgba(255, 255, 255, 0.7) !important;
  cursor: pointer !important;
  transition: all 0.3s ease !important;
  text-align: center !important;
  font-size: 1.1em !important;
  line-height: 1.1 !important;
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  border-right: 1px solid rgba(255, 255, 255, 0.1) !important;
  padding: 8px 4px !important;
}

.nav-btn:last-child {
  border-right: none !important;
}

.nav-btn span {
  display: block !important;
  font-size: 0.7em !important;
  margin-top: 3px !important;
  font-weight: bold !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
}

.nav-btn:hover {
  background: rgba(255, 255, 255, 0.1) !important;
  color: white !important;
}

.nav-btn.active {
  background: linear-gradient(145deg, #4caf50, #66bb6a) !important;
  color: white !important;
  box-shadow: inset 0 2px 8px rgba(76, 175, 80, 0.4) !important;
}

@media (max-width: 768px) {
  .game-container {
    padding-top: 45px; /* Space for header on tablet */
  }
  
  .game-title {
    font-size: 1.1em;
  }
  
  .gold-info {
    font-size: 0.9em;
    gap: 8px;
  }
  
  .tab-content-container {
    padding: 15px;
    padding-bottom: 80px;
    max-height: calc(100vh - 120px);
  }
  
  .bottom-nav {
    height: 65px;
  }
  
  .nav-btn {
    font-size: 1em;
    padding: 6px 4px;
  }
  
  .nav-btn span {
    font-size: 0.65em;
    margin-top: 2px;
  }
}

@media (max-width: 480px) {
  .game-container {
    padding-top: 55px; /* Space for header on mobile */
  }
  
  .header-content {
    padding: 0 10px;
  }
  
  .game-title {
    font-size: 1em;
  }
  
  .gold-info {
    font-size: 0.85em;
    gap: 5px;
  }
  
  .tab-content-container {
    padding: 12px;
    padding-bottom: 70px;
    max-height: calc(100vh - 110px);
  }
  
  .bottom-nav {
    height: 60px;
  }
  
  .nav-btn {
    font-size: 0.9em;
    padding: 4px 2px;
  }
  
  .nav-btn span {
    font-size: 0.6em;
    margin-top: 1px;
  }
}

/* Typography */
h1 { 
  text-align: center; 
  font-size: 2.2em; 
  font-weight: bold;
  text-shadow: 2px 2px 0px rgba(0,0,0,0.3); 
  margin-bottom: 20px;
  grid-column: 1 / -1;
  color: #fff;
  letter-spacing: 1px;
}

/* Gold Display */
.gold-display {
  background: linear-gradient(135deg, #ffd700 0%, #ffb300 20%, #daa520 40%, #cd853f 60%, #b8860b 80%, #ffd700 100%);
  color: #2d1810;
  padding: 12px 15px;
  border-radius: 8px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  text-align: center;
  font-size: 1.3em;
  font-weight: bold;
  border: 4px solid transparent;
  border-image: linear-gradient(90deg, #8b4513, #daa520, #ffd700, #daa520, #8b4513) 1;
  border-top: none;
  box-shadow: 
    /* Outer magical glow */
    0 6px 20px rgba(255, 215, 0, 0.4),
    0 3px 10px rgba(0, 0, 0, 0.2),
    /* Inner treasure gleam */
    inset 0 2px 0 rgba(255, 255, 255, 0.6),
    inset 0 -2px 0 rgba(139, 69, 19, 0.4),
    inset 2px 0 0 rgba(255, 255, 255, 0.3),
    inset -2px 0 0 rgba(139, 69, 19, 0.3);
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  gap: 10px;
  text-shadow: 
    1px 1px 2px rgba(0, 0, 0, 0.3),
    0 0 8px rgba(255, 215, 0, 0.4);
  animation: gentleGoldShimmer 4s ease-in-out infinite;
}

/* Panels */
.panel { 
  background: 
    /* Celtic knotwork pattern overlay */
    radial-gradient(circle at 20% 30%, rgba(139, 69, 19, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 70%, rgba(160, 82, 45, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 50% 50%, rgba(101, 67, 33, 0.05) 0%, transparent 70%),
    /* Enhanced wood planks with natural grain */
    repeating-linear-gradient(
      0deg,
      #3a1a0f 0px, #3a1a0f 25px,     /* Rich main plank */
      #4a2415 25px, #4a2415 27px,    /* Highlighted grain */
      #3a1a0f 27px, #3a1a0f 30px,    /* Main plank */
      #2f150b 30px, #2f150b 32px,    /* Deep grain shadow */
      #3a1a0f 32px, #3a1a0f 45px,    /* Main plank */
      #1a0a05 45px, #1a0a05 48px,    /* Deep plank gap */
      #3a1a0f 48px, #3a1a0f 73px,    /* Next plank */
      #4a2415 73px, #4a2415 75px,    /* Grain highlight */
      #3a1a0f 75px, #3a1a0f 78px,    /* Main plank */
      #2f150b 78px, #2f150b 80px,    /* Grain shadow */
      #3a1a0f 80px, #3a1a0f 95px,    /* Main plank */
      #1a0a05 95px, #1a0a05 98px     /* Plank separation */
    ),
    /* Enhanced horizontal wood grain texture */
    repeating-linear-gradient(
      90deg,
      transparent 0px, transparent 2px,
      rgba(60, 28, 13, 0.3) 3px, rgba(60, 28, 13, 0.3) 4px,
      transparent 4px, transparent 8px,
      rgba(42, 18, 10, 0.2) 8px, rgba(42, 18, 10, 0.2) 9px,
      transparent 9px, transparent 15px
    );
  border: 4px solid #2d1810;
  border-image: linear-gradient(45deg, #1a0a05, #4a2415, #1a0a05, #2d1810) 1;
  border-radius: 12px;
  padding: 20px;
  box-shadow: 
    /* Main depth shadow */
    0 8px 25px rgba(0, 0, 0, 0.4),
    0 4px 10px rgba(0, 0, 0, 0.3),
    /* Inner bevel effect */
    inset 0 2px 0 rgba(139, 69, 19, 0.3),
    inset 0 -2px 0 rgba(26, 10, 5, 0.8),
    inset 2px 0 0 rgba(74, 36, 21, 0.2),
    inset -2px 0 0 rgba(26, 10, 5, 0.4);
  position: relative;
  margin-bottom: 20px;
  color: #f5deb3;
  /* Add subtle inner glow */
  background-size: 100px 100px, 100px 100px, 200px 200px, 100% 100%, 15px 15px;
  overflow: hidden;
}

.panel h2 {
  margin: 0 0 15px 0;
  text-shadow: 
    1px 1px 2px rgba(0, 0, 0, 0.5),
    0 0 10px rgba(218, 165, 32, 0.3);
  border-bottom: 3px solid transparent;
  border-image: linear-gradient(90deg, 
    transparent 0%, 
    #8b4513 20%, 
    #daa520 50%, 
    #8b4513 80%, 
    transparent 100%) 1;
  padding: 0 40px 12px 40px; /* Add horizontal padding for decorative elements */
  font-size: 1.2em;
  color: #daa520;
  font-weight: bold;
  position: relative;
  overflow: hidden;
  text-align: center; /* Center the title text */
}

/* Celtic knot decorations for panel headers - static */
.panel h2::before,
.panel h2::after {
  content: "âšœ";
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  color: #cd853f;
  font-size: 1.2em;
  text-shadow: 0 0 8px rgba(205, 133, 63, 0.6);
  /* Removed animation */
}

.panel h2::before {
  left: 0;
}

.panel h2::after {
  right: 0;
}

/* Chief Section */
.chief-section {
  text-align: center;
  position: relative;
}

.chief-sprite {
  width: 80px;
  height: 80px;
  background: 
    /* Subtle aura */
    radial-gradient(circle at 30% 30%, rgba(255, 215, 0, 0.2) 0%, transparent 60%),
    radial-gradient(circle at 70% 70%, rgba(218, 165, 32, 0.1) 0%, transparent 60%),
    /* Main gradient */
    linear-gradient(135deg, #cd853f 0%, #b8860b 30%, #daa520 60%, #8b4513 100%);
  border: 3px solid #8b4513;
  border-radius: 50%;
  margin: 0 auto 15px;
  position: relative;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2em;
  box-shadow: 
    /* Subtle outer glow */
    0 0 15px rgba(218, 165, 32, 0.3),
    0 4px 15px rgba(0, 0, 0, 0.3),
    /* Inner depth */
    inset 0 2px 0 rgba(255, 215, 0, 0.3),
    inset 0 -2px 0 rgba(139, 69, 19, 0.5);
  /* Removed breathing animation */
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
}

.chief-sprite.clickable:hover {
  transform: translateY(-3px) scale(1.05);
  box-shadow: 
    /* Enhanced glow for better clickability feedback */
    0 0 25px rgba(255, 215, 0, 0.6),
    0 8px 25px rgba(218, 165, 32, 0.4),
    0 5px 15px rgba(0, 0, 0, 0.4),
    /* Enhanced inner glow */
    inset 0 4px 0 rgba(255, 215, 0, 0.5),
    inset 0 -4px 0 rgba(139, 69, 19, 0.7);
}

.chief-sprite.clickable:active {
  transform: translateY(1px) scale(1.02);
  box-shadow: 
    0 2px 15px rgba(255, 215, 0, 0.5),
    inset 0 2px 0 rgba(255, 255, 255, 0.4);
}

/* Disabled state for cooldown */
.chief-sprite.disabled {
  opacity: 0.6;
  cursor: not-allowed;
  pointer-events: none;
}

.chief-sprite.disabled:hover {
  transform: none !important;
  box-shadow: 
    0 0 15px rgba(218, 165, 32, 0.2),
    0 4px 15px rgba(0, 0, 0, 0.2),
    inset 0 2px 0 rgba(255, 215, 0, 0.2),
    inset 0 -2px 0 rgba(139, 69, 19, 0.3);
}

/* Chief Button Styling */
#chiefBtn {
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  outline: none;
}

#chiefBtn:disabled {
  cursor: not-allowed;
}

/* Buttons */
button { 
  background: linear-gradient(135deg, #4CAF50 0%, #66bb6a 100%);
  color: white;
  border: 2px solid #2e7d32;
  border-radius: 8px;
  padding: 12px 18px;
  font-family: 'Segoe UI', 'Roboto', sans-serif;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 
    0 4px 10px rgba(76, 175, 80, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  margin: 5px;
  font-size: 14px;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 
    0 6px 15px rgba(76, 175, 80, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  background: linear-gradient(135deg, #66bb6a 0%, #4CAF50 100%);
}

button:active {
  transform: translateY(0px);
  box-shadow: 
    0 2px 5px rgba(76, 175, 80, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

button:disabled {
  background: linear-gradient(135deg, #bdbdbd 0%, #9e9e9e 100%);
  color: #757575;
  box-shadow: none;
  cursor: not-allowed;
  transform: none;
}

/* Button Variants */
.upgrade-btn {
  background: linear-gradient(135deg, #ff9800 0%, #ffb74d 100%);
  border-color: #f57c00;
  box-shadow: 
    0 4px 10px rgba(255, 152, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
}

.upgrade-btn:hover:not(:disabled):not(.unaffordable) {
  background: linear-gradient(135deg, #ffb74d 0%, #ff9800 100%);
  box-shadow: 
    0 6px 15px rgba(255, 152, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  transform: translateY(-2px);
}

/* Affordable upgrade state */
.upgrade-btn.affordable {
  background: linear-gradient(135deg, #ff9800 0%, #ffb74d 100%);
  border-color: #f57c00;
  opacity: 1;
  cursor: pointer;
}

.upgrade-btn.affordable:hover {
  background: linear-gradient(135deg, #ffb74d 0%, #ff9800 100%);
  transform: translateY(-2px);
  box-shadow: 
    0 6px 15px rgba(255, 152, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

/* Unaffordable upgrade state */
.upgrade-btn.unaffordable, .upgrade-btn:disabled {
  background: linear-gradient(135deg, #757575 0%, #616161 100%);
  border-color: #424242;
  color: #bdbdbd;
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.upgrade-btn.unaffordable:hover, .upgrade-btn:disabled:hover {
  background: linear-gradient(135deg, #757575 0%, #616161 100%);
  transform: none;
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.buy-btn {
  background: 
    /* Metallic texture */
    radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.3) 0%, transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(0, 0, 0, 0.2) 0%, transparent 50%),
    /* Bronze/copper metallic gradient */
    linear-gradient(135deg, #cd853f 0%, #b8860b 30%, #daa520 60%, #cd853f 100%);
  border: 2px solid #8b4513;
  border-radius: 6px;
  min-width: 60px; /* Wider for large numbers */
  width: auto;
  height: 44px; /* Square, 2-line height */
  padding: 4px 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75em;
  font-weight: bold;
  line-height: 1.1;
  text-align: center;
  white-space: nowrap;
  flex-shrink: 0;
  box-shadow: 
    /* Outer shadow */
    0 3px 8px rgba(139, 69, 19, 0.4),
    0 2px 4px rgba(0, 0, 0, 0.2),
    /* Inner metallic bevel */
    inset 0 1px 0 rgba(255, 255, 255, 0.4),
    inset 0 -1px 0 rgba(139, 69, 19, 0.6),
    inset 1px 0 0 rgba(255, 255, 255, 0.2),
    inset -1px 0 0 rgba(139, 69, 19, 0.4);
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

.buy-btn:hover:not(:disabled):not(.unaffordable) {
  background: 
    /* Enhanced metallic shine on hover */
    radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.5) 0%, transparent 60%),
    radial-gradient(circle at 70% 70%, rgba(255, 215, 0, 0.3) 0%, transparent 50%),
    /* Brighter metallic gradient */
    linear-gradient(135deg, #daa520 0%, #cd853f 30%, #ffd700 60%, #daa520 100%);
  box-shadow: 
    /* Enhanced hover shadow */
    0 8px 20px rgba(218, 165, 32, 0.5),
    0 4px 12px rgba(0, 0, 0, 0.3),
    /* Enhanced inner bevel */
    inset 0 3px 0 rgba(255, 255, 255, 0.6),
    inset 0 -3px 0 rgba(139, 69, 19, 0.8),
    inset 3px 0 0 rgba(255, 255, 255, 0.3),
    inset -3px 0 0 rgba(139, 69, 19, 0.5),
    /* Outer glow */
    0 0 15px rgba(255, 215, 0, 0.3);
  transform: translateY(-1px) scale(1.08);
}

/* Affordable state - bright and inviting */
.buy-btn.affordable {
  background: linear-gradient(135deg, #2196F3 0%, #42a5f5 100%);
  border-color: #1565c0;
  opacity: 1;
  cursor: pointer;
}

.buy-btn.affordable:hover {
  background: linear-gradient(135deg, #42a5f5 0%, #2196F3 100%);
  transform: translateY(-2px);
  box-shadow: 
    0 6px 15px rgba(33, 150, 243, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

/* Unaffordable state - grayed out */
.buy-btn.unaffordable, .buy-btn:disabled {
  background: linear-gradient(135deg, #757575 0%, #616161 100%);
  border-color: #424242;
  color: #bdbdbd;
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.buy-btn.unaffordable:hover, .buy-btn:disabled:hover {
  background: linear-gradient(135deg, #757575 0%, #616161 100%);
  transform: none;
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.attack-btn {
  background: linear-gradient(135deg, #f44336 0%, #ef5350 100%);
  border-color: #c62828;
  box-shadow: 
    0 4px 10px rgba(244, 67, 54, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.attack-btn:hover {
  background: linear-gradient(135deg, #ef5350 0%, #f44336 100%);
  box-shadow: 
    0 6px 15px rgba(244, 67, 54, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

/* Progress Bars */
.progress-container { 
  width: 100%; 
  height: 16px; 
  background: 
    repeating-linear-gradient(
      90deg,
      #333 0px,
      #333 2px,
      #222 2px,
      #222 4px
    );
  border: 2px solid #000;
  margin: 12px 0;
  overflow: hidden;
  box-shadow: 
    inset 0 0 0 1px #555,
    inset 0 0 0 2px #000;
}

.progress-bar { 
  height: 100%; 
  background: 
    repeating-linear-gradient(
      90deg,
      #32CD32 0px,
      #32CD32 2px,
      #228B22 2px,
      #228B22 4px
    );
  width: 0%; 
  transition: width 0.1s linear;
  position: relative;
}

.progress-bar::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: rgba(255, 255, 255, 0.3);
}

/* Generators - Compact Layout */
.generator-item {
  background: 
    /* Parchment texture overlay */
    radial-gradient(circle at 25% 25%, rgba(139, 119, 101, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 75% 75%, rgba(160, 140, 120, 0.1) 0%, transparent 50%),
    /* Age spots and stains */
    radial-gradient(circle at 10% 90%, rgba(139, 115, 85, 0.08) 0%, transparent 30%),
    radial-gradient(circle at 90% 10%, rgba(160, 130, 98, 0.06) 0%, transparent 40%),
    /* Parchment base */
    linear-gradient(145deg, #f5f0e8 0%, #f0e6d2 50%, #e8d7bb 100%);
  border: 3px solid #d4af37;
  border-image: linear-gradient(45deg, #b8860b, #daa520, #b8860b, #cd853f) 1;
  border-radius: 8px;
  padding: 12px;
  margin: 8px 0;
  display: flex;
  align-items: center;
  gap: 12px;
  min-height: 75px; /* More space for content */
  box-shadow: 
    /* Main shadow */
    0 4px 12px rgba(212, 175, 55, 0.2),
    0 2px 6px rgba(0, 0, 0, 0.1),
    /* Inner parchment effect */
    inset 0 1px 0 rgba(255, 255, 255, 0.8),
    inset 0 -1px 0 rgba(139, 115, 85, 0.3),
    inset 1px 0 0 rgba(255, 255, 255, 0.6),
    inset -1px 0 0 rgba(139, 115, 85, 0.2);
  position: relative;
  transition: all 0.3s ease;
  overflow: hidden;
}

/* Generator hover effects */
.generator-item:hover {
  transform: translateY(-3px) scale(1.02);
  box-shadow: 
    /* Enhanced hover shadow */
    0 12px 30px rgba(212, 175, 55, 0.3),
    0 6px 15px rgba(0, 0, 0, 0.15),
    /* Inner parchment glow */
    inset 0 2px 0 rgba(255, 255, 255, 0.9),
    inset 0 -2px 0 rgba(139, 115, 85, 0.4),
    inset 2px 0 0 rgba(255, 255, 255, 0.7),
    inset -2px 0 0 rgba(139, 115, 85, 0.3),
    /* Outer glow */
    0 0 20px rgba(218, 165, 32, 0.4);
}

/* Add subtle animation to generator items */
@keyframes gentleFloat {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-2px); }
}

.generator-item:nth-child(odd) {
  animation: gentleFloat 6s ease-in-out infinite;
  animation-delay: 0s;
}

.generator-item:nth-child(even) {
  animation: gentleFloat 6s ease-in-out infinite;
  animation-delay: 3s;
}

.generator-sprite {
  width: 44px;
  height: 44px; /* Square, 2-line height */
  background: linear-gradient(145deg, #8b4513, #a0522d);
  border: 2px solid #654321;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.4em;
  flex-shrink: 0;
  transition: all 0.3s ease;
  user-select: none;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Generator clickable states */
.generator-sprite.clickable {
  cursor: pointer;
  position: relative;
  background: linear-gradient(145deg, #4caf50, #2e7d32);
  border-color: #1b5e20;
  box-shadow: 0 3px 8px rgba(76, 175, 80, 0.3);
}

.generator-sprite.clickable::before {
  content: "ðŸ‘†";
  position: absolute;
  top: -12px;
  right: -8px;
  font-size: 0.8em;
  opacity: 0.8;
  animation: clickHint 2s ease-in-out infinite;
  pointer-events: none;
}

.generator-sprite.clickable:hover {
  transform: translateY(-2px) scale(1.08);
  background: linear-gradient(145deg, #66bb6a, #4caf50);
  border-color: #2e7d32;
  box-shadow: 0 6px 20px rgba(76, 175, 80, 0.5);
}

.generator-sprite.clickable:active {
  transform: translateY(0px) scale(1.02);
  box-shadow: 0 2px 8px rgba(76, 175, 80, 0.4);
}

@keyframes clickHint {
  0%, 100% { 
    opacity: 0.6;
    transform: translateY(0px);
  }
  50% { 
    opacity: 1;
    transform: translateY(-2px);
  }
}

/* Generator disabled/working states */
.generator-sprite.disabled {
  opacity: 0.6;
  cursor: not-allowed;
  pointer-events: none;
  background: linear-gradient(145deg, #666, #888);
  border-color: #444;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

.generator-sprite.disabled::before {
  content: "ðŸš«";
  opacity: 0.8;
  animation: none;
}

.generator-sprite.working {
  animation: generatorWorking 2s ease-in-out infinite;
  background: linear-gradient(145deg, #ff9800, #f57c00);
  border-color: #ef6c00;
  box-shadow: 0 3px 8px rgba(255, 152, 0, 0.4);
}

.generator-sprite.working::before {
  content: "âš¡";
  position: absolute;
  top: -10px;
  right: -6px;
  font-size: 0.9em;
  opacity: 1;
  animation: workingIndicator 1s ease-in-out infinite;
}

@keyframes workingIndicator {
  0%, 100% { 
    opacity: 1;
    transform: rotate(0deg) scale(1);
  }
  50% { 
    opacity: 0.7;
    transform: rotate(10deg) scale(1.1);
  }
}

@keyframes generatorWorking {
  0%, 100% { 
    transform: scale(1); 
    filter: brightness(1);
  }
  50% { 
    transform: scale(1.02); 
    filter: brightness(1.2);
  }
}

/* Generator progress bars */
.generator-item .progress-container {
  width: 150px; /* Fixed width for all generator progress bars */
  height: 12px;
  flex-shrink: 0; /* Don't shrink when space is tight */
  margin: 2px 0; /* Add small vertical margin for better alignment */
  align-self: center; /* Center align the progress bar */
}

.generator-progress {
  background: linear-gradient(90deg, #4caf50, #66bb6a);
  border-radius: 3px;
  transition: all 0.2s ease;
}

.villager-sprite { 
  background: linear-gradient(135deg, #8bc34a 0%, #aed581 100%);
  border-color: #689f38;
}
.warrior-sprite { 
  background: linear-gradient(135deg, #ff5722 0%, #ff7043 100%);
  border-color: #d84315;
}
.seer-sprite { 
  background: linear-gradient(135deg, #4b0082 0%, #663399 100%);
  border-color: #2e004f;
}
.elite-sprite { 
  background: linear-gradient(135deg, #ffc107 0%, #ffd54f 100%);
  border-color: #ff8f00;
}

.generator-info {
  flex: 1;
  color: #1a1a1a;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 4px;
  min-height: 50px; /* More space for content */
}

.generator-line1 {
  font-size: 0.9em;
  font-weight: bold;
  line-height: 1.1;
}

.generator-line2 {
  font-size: 0.85em;
  color: #2d7d32;
  font-weight: bold;
  line-height: 1.1;
}

.generator-count {
  font-size: 1.2em;
  font-weight: bold;
  color: #1a6b1a;
}

.generator-total {
  font-size: 1.0em;
  font-weight: bold;
  color: #2d7d32;
  margin-top: 4px;
}

/* Chief display styles */
.chief-display {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 15px;
}

.chief-info {
  flex: 1;
}

/* Warrior input group */
.warrior-input-group {
  display: flex;
  align-items: center;
  gap: 5px;
}

.warrior-input-group input[type="number"] {
  flex: 1;
  min-width: 100px;
}

.max-btn {
  background: #4caf50;
  color: white;
  border: 2px solid #2e7d32;
  border-radius: 4px;
  padding: 8px 12px;
  cursor: pointer;
  font-weight: bold;
  transition: all 0.2s;
}

.max-btn:hover {
  background: #45a049;
  transform: translateY(-1px);
}

.max-btn:active {
  transform: translateY(0);
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
}

/* Chief Enhanced Features */
.click-streak, .generator-bonus {
  background: rgba(255, 193, 7, 0.2);
  border: 1px solid #ffc107;
  border-radius: 4px;
  padding: 5px 10px;
  margin: 5px 0;
  font-size: 0.9em;
  color: #ff8f00;
  font-weight: bold;
  transition: all 0.3s ease;
}

/* High streak visual enhancement */
.click-streak.high-streak {
  background: rgba(255, 87, 34, 0.3);
  border: 2px solid #ff5722;
  color: #ff3d00;
  animation: streakPulse 1s infinite alternate;
  box-shadow: 0 0 10px rgba(255, 87, 34, 0.5);
}

@keyframes streakPulse {
  from { 
    transform: scale(1); 
    box-shadow: 0 0 10px rgba(255, 87, 34, 0.5);
  }
  to { 
    transform: scale(1.02); 
    box-shadow: 0 0 15px rgba(255, 87, 34, 0.7);
  }
}

.chief-skills {
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid #654321;
}

.chief-skills h4 {
  margin: 0 0 6px 0; /* Reduce header margin */
  font-size: 0.9em; /* Smaller header */
}

.skill-buttons {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 6px;
  margin-top: 8px;
}

.skill-btn {
  background: linear-gradient(145deg, #4caf50, #2e7d32);
  color: white;
  border: 2px solid #1b5e20;
  border-radius: 6px;
  padding: 6px 4px;
  cursor: pointer;
  font-weight: bold;
  transition: all 0.3s;
  min-height: 40px; /* Reduced from 60px */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: 0.8em; /* Smaller text */
}

.skill-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
}

.skill-btn:active:not(:disabled) {
  transform: translateY(0);
}

.skill-btn:disabled {
  background: linear-gradient(145deg, #666, #444);
  border-color: #333;
  opacity: 0.6;
  cursor: not-allowed;
}

.skill-btn small {
  font-size: 0.65em; /* Even smaller */
  margin-top: 1px;
  opacity: 0.9;
  line-height: 1.1; /* Tighter line spacing */
}

.rally-btn:not(:disabled) {
  background: linear-gradient(145deg, #ff5722, #d84315);
  border-color: #bf360c;
}

.inspire-btn:not(:disabled) {
  background: linear-gradient(145deg, #2196f3, #1565c0);
  border-color: #0d47a1;
}

.fortune-btn:not(:disabled) {
  background: linear-gradient(145deg, #ff9800, #f57c00);
  border-color: #e65100;
}

/* Prestige Panel */
.prestige-panel {
  background: linear-gradient(145deg, #4a148c, #6a1b9a);
  border: 3px solid #9c27b0;
  color: white;
}

.prestige-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 20px;
}

.prestige-stats {
  flex: 1;
}

.prestige-stats div {
  margin: 8px 0;
  font-weight: bold;
}

.prestige-action {
  flex-shrink: 0;
}

.prestige-btn {
  background: linear-gradient(145deg, #9c27b0, #7b1fa2);
  color: white;
  border: 2px solid #4a148c;
  border-radius: 12px;
  padding: 15px 20px;
  cursor: pointer;
  font-weight: bold;
  font-size: 1.1em;
  transition: all 0.3s;
  min-width: 120px;
  text-align: center;
}

.prestige-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(156, 39, 176, 0.4);
  background: linear-gradient(145deg, #ab47bc, #8e24aa);
}

.prestige-btn:active:not(:disabled) {
  transform: translateY(0);
}

.prestige-btn:disabled {
  background: linear-gradient(145deg, #666, #444);
  border-color: #333;
  opacity: 0.6;
  cursor: not-allowed;
}

.prestige-btn small {
  font-size: 0.8em;
  margin-top: 2px;
  opacity: 0.9;
}

/* Desktop - compact square layout */
@media (min-width: 769px) {
  .generator-item {
    display: flex !important;
    align-items: center;
    justify-content: space-between;
    gap: 15px;
    min-height: 75px;
    padding: 12px;
  }
  
  .generator-sprite {
    width: 44px;
    height: 44px;
    font-size: 1.4em;
  }
  
  .generator-info {
    flex: 1;
    display: flex !important;
    flex-direction: column;
    justify-content: center;
    min-height: 50px;
    gap: 4px;
    min-width: 0;
  }
  
  .generator-line1 {
    font-size: 0.9em;
    font-weight: bold;
  }
  
  .generator-line2 {
    font-size: 0.85em;
    color: #2d7d32;
    font-weight: bold;
  }
  
  .buy-btn {
    width: 44px;
    height: 44px;
    font-size: 0.75em;
    flex-shrink: 0;
    align-self: center;
  }
}

/* Mobile responsiveness for new elements */
@media (max-width: 768px) {
  .skill-buttons {
    grid-template-columns: repeat(3, 1fr); /* Keep 3 columns on mobile too */
    gap: 4px; /* Smaller gap on mobile */
  }
  
  .skill-btn {
    min-height: 35px; /* Even smaller on mobile */
    padding: 4px 2px;
    font-size: 0.7em;
  }
  
  .skill-btn small {
    font-size: 0.6em;
  }
  
  .prestige-info {
    flex-direction: column;
    text-align: center;
  }
  
  .prestige-action {
    margin-top: 15px;
  }
}

/* Combat Section */
.camp-selection {
  padding: 15px;
  margin: 15px 0;
}

.camp-item {
  background: linear-gradient(145deg, #fff3cd 0%, #ffeaa7 100%);
  border: 2px solid #ffc107;
  border-radius: 10px;
  padding: 15px;
  margin: 10px 0;
  display: flex;
  align-items: center;
  gap: 15px;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 
    0 3px 10px rgba(255, 193, 7, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
}

.camp-item:hover {
  transform: translateY(-2px);
  box-shadow: 
    0 5px 15px rgba(255, 193, 7, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
  border-color: #f57c00;
}

.camp-item.selected {
  border-color: #f57c00;
  background: linear-gradient(145deg, #ffecb3 0%, #ffc107 100%);
  box-shadow: 
    0 5px 15px rgba(255, 152, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);
}

.camp-sprite {
  width: 50px;
  height: 50px;
  border: 2px solid #424242;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5em;
  flex-shrink: 0;
  background: linear-gradient(135deg, #8bc34a 0%, #aed581 100%);
  box-shadow: 
    0 3px 8px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255,255,255,0.3);
}

.camp-info {
  flex: 1;
  color: #1a1a1a;
}

.camp-details {
  font-size: 1.1em;
  font-weight: bold;
  color: #1a6b1a;
  margin: 4px 0;
}

.camp-difficulty {
  font-size: 0.9em;
  color: #666;
  font-style: italic;
}

.combat-controls {
  background: 
    /* Single horizontal wood plank */
    repeating-linear-gradient(
      0deg,
      #30140a 0px, #30140a 15px,
      #3c1c0d 15px, #3c1c0d 16px,
      #30140a 16px, #30140a 20px,
      #2a120a 20px, #2a120a 21px,
      #30140a 21px, #30140a 35px
    );
  border: 2px solid #1f0d07;
  border-radius: 8px;
  padding: 15px;
  margin: 15px 0;
  text-align: center;
  color: #f5deb3;
}

.attack-result {
  background: linear-gradient(145deg, #f0f4ff 0%, #e6f0ff 100%);
  padding: 15px;
  border: 2px solid #99ccff;
  border-radius: 10px;
  margin: 15px 0;
  min-height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 
    0 3px 10px rgba(153, 204, 255, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);
  font-weight: bold;
}

.success { color: #4CAF50; }
.failure { color: #f44336; }
.cooldown { color: #ff9800; }

/* Form Elements */
select, input {
  background: linear-gradient(145deg, #f8f9fa 0%, #e9ecef 100%);
  color: #495057;
  border: 2px solid #ced4da;
  border-radius: 6px;
  padding: 8px;
  font-family: 'Segoe UI', 'Roboto', sans-serif;
  font-size: 14px;
  box-shadow: 
    0 2px 5px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255,255,255,0.5);
}

/* Stats */
.stats-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 8px 0;
  padding: 10px;
  background: 
    /* Single horizontal wood plank */
    repeating-linear-gradient(
      0deg,
      #30140a 0px, #30140a 15px,      /* Main plank */
      #3c1c0d 15px, #3c1c0d 16px,    /* Grain line */
      #30140a 16px, #30140a 20px,    /* Main plank */
      #2a120a 20px, #2a120a 21px,    /* Dark grain */
      #30140a 21px, #30140a 35px     /* Main plank */
    ),
    /* Horizontal grain texture */
    repeating-linear-gradient(
      90deg,
      transparent 0px, transparent 4px,
      rgba(60, 28, 13, 0.2) 4px, rgba(60, 28, 13, 0.2) 5px,
      transparent 5px, transparent 12px
    );
  border: 2px solid #1f0d07;
  border-radius: 6px;
  box-shadow: 
    0 2px 5px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(92, 51, 23, 0.3);
  color: #f5deb3;
}

/* Building Styles */
.building-section {
  text-align: center;
}

.building-display {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 20px;
  background: linear-gradient(145deg, #fff8e1 0%, #ffecb3 100%);
  border: 2px solid #ffcc02;
  border-radius: 10px;
  padding: 15px;
  box-shadow: 
    0 3px 10px rgba(255, 204, 2, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
}

.building-sprite {
  width: 80px;
  height: 80px;
  background: linear-gradient(135deg, #795548 0%, #8d6e63 100%);
  border: 3px solid #5d4037;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2.5em;
  box-shadow: 
    0 4px 15px rgba(121, 85, 72, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  transition: transform 0.2s ease;
  flex-shrink: 0;
}

.building-sprite:hover {
  transform: translateY(-2px);
  box-shadow: 
    0 6px 20px rgba(121, 85, 72, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.building-info {
  flex: 1;
  text-align: left;
}

.building-info h3 {
  margin: 0 0 10px 0;
  color: #daa520;
  font-size: 1.3em;
  font-weight: bold;
}

.building-info p {
  margin: 0;
  color: #666;
  font-size: 0.9em;
  line-height: 1.4;
}

.building-upgrade {
  margin-bottom: 20px;
}

.generator-upgrades {
  border-top: 2px solid #654321;
  padding-top: 20px;
  margin-top: 20px;
}

.generator-upgrades h3 {
  text-align: center;
  margin-bottom: 20px;
  color: #ffd700;
}

.upgrade-category {
  background: 
    /* Horizontal wood planks pattern */
    repeating-linear-gradient(
      0deg,
      #30140a 0px, #30140a 30px,      /* Main plank */
      #3c1c0d 30px, #3c1c0d 32px,    /* Wood grain */
      #30140a 32px, #30140a 35px,    /* Main plank */
      #2a120a 35px, #2a120a 37px,    /* Dark grain */
      #30140a 37px, #30140a 60px,    /* Main plank */
      #1f0d07 60px, #1f0d07 63px,    /* Plank gap */
      #30140a 63px, #30140a 93px,    /* Next plank */
      #3c1c0d 93px, #3c1c0d 95px,    /* Wood grain */
      #30140a 95px, #30140a 98px,    /* Main plank */
      #2a120a 98px, #2a120a 100px,   /* Dark grain */
      #30140a 100px, #30140a 120px   /* Main plank */
    ),
    /* Subtle grain texture */
    repeating-linear-gradient(
      90deg,
      transparent 0px, transparent 5px,
      rgba(60, 28, 13, 0.15) 5px, rgba(60, 28, 13, 0.15) 6px,
      transparent 6px, transparent 15px
    );
  border: 2px solid #1f0d07;
  border-radius: 10px;
  padding: 15px;
  margin: 10px 0;
  box-shadow: 
    0 3px 8px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(92, 51, 23, 0.4);
  color: #f5deb3;
}

.upgrade-category h4 {
  margin: 0 0 15px 0;
  color: #daa520;
  font-weight: bold;
  border-bottom: 2px solid #5c3317;
  padding-bottom: 8px;
}

.upgrade-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  justify-content: center;
}

.small-upgrade-btn {
  background: linear-gradient(135deg, #8b4513 0%, #a0522d 100%);
  border-color: #654321;
  box-shadow: 
    0 3px 8px rgba(139, 69, 19, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  font-size: 12px;
  padding: 8px 12px;
  min-width: 120px;
  text-align: center;
}

.small-upgrade-btn:hover {
  background: linear-gradient(135deg, #a0522d 0%, #8b4513 100%);
  box-shadow: 
    0 4px 12px rgba(139, 69, 19, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  transform: translateY(-1px);
}

.small-upgrade-btn:active {
  transform: translateY(0px);
  box-shadow: 
    0 2px 4px rgba(139, 69, 19, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.small-upgrade-btn:disabled {
  background: linear-gradient(135deg, #bdbdbd 0%, #9e9e9e 100%);
  color: #757575;
  box-shadow: none;
}

/* Fixed Reset Button at Bottom */
.reset-container {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(135deg, #ffeb3b 0%, #ffc107 100%);
  border-top: 3px solid #ff8f00;
  padding: 10px;
  text-align: center;
  z-index: 1000;
  box-shadow: 
    0 -4px 15px rgba(255, 193, 7, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease;
}

.reset-container.visible {
  opacity: 1;
  visibility: visible;
}

.reset-btn {
  background: #d32f2f !important;
  color: white !important;
  border: 2px solid #b71c1c !important;
  border-radius: 8px !important;
  padding: 10px 20px !important;
  cursor: pointer !important;
  font-size: 14px !important;
  font-weight: bold !important;
  margin: 0 !important;
  min-height: 44px;
  transition: all 0.2s ease;
}

.reset-btn:hover {
  background: #b71c1c !important;
  transform: translateY(-2px);
  box-shadow: 
    0 4px 12px rgba(211, 47, 47, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.reset-btn:active {
  transform: translateY(0px);
}

/* Adventure System Styles */

/* Adventure Toggle Button */
.adventure-toggle {
  position: fixed;
  top: 10px;
  right: 10px;
  z-index: 2000;
}

.adventure-toggle-btn {
  background: linear-gradient(145deg, #8b4513, #a0522d) !important;
  color: white !important;
  border: 3px solid #654321 !important;
  border-radius: 10px !important;
  padding: 12px 20px !important;
  font-size: 16px !important;
  font-weight: bold !important;
  cursor: pointer !important;
  box-shadow: 
    0 6px 20px rgba(139, 69, 19, 0.4),
    inset 0 2px 0 rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease !important;
}

.adventure-toggle-btn:hover {
  background: linear-gradient(145deg, #a0522d, #8b4513) !important;
  transform: translateY(-2px);
  box-shadow: 
    0 8px 25px rgba(139, 69, 19, 0.5),
    inset 0 2px 0 rgba(255, 255, 255, 0.3);
}

.adventure-toggle-btn:active {
  transform: translateY(0px);
}

/* Adventure Panel */
.adventure-panel {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  display: grid;
  grid-template-columns: 1fr;
  gap: 20px;
}

.adventure-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: linear-gradient(145deg, #8b4513, #a0522d);
  padding: 15px 25px;
  border-radius: 15px;
  border: 4px solid #654321;
  box-shadow: 
    0 8px 30px rgba(139, 69, 19, 0.4),
    inset 0 2px 0 rgba(255, 255, 255, 0.2);
}

.adventure-header h1 {
  color: white;
  margin: 0;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.village-return-btn {
  background: #2e7d32 !important;
  color: white !important;
  border: 2px solid #1b5e20 !important;
  border-radius: 8px !important;
  padding: 8px 16px !important;
  cursor: pointer !important;
  font-size: 14px !important;
  transition: all 0.2s ease !important;
}

.village-return-btn:hover {
  background: #388e3c !important;
  transform: translateY(-1px);
}

/* Hero Panel Styles */
.hero-panel {
  background: linear-gradient(145deg, #2e7d32, #388e3c);
}

.hero-display {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 20px;
}

.hero-sprite {
  font-size: 64px;
  background: linear-gradient(145deg, #ffffff, #e0e0e0);
  border-radius: 50%;
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 
    0 6px 20px rgba(0, 0, 0, 0.3),
    inset 0 2px 0 rgba(255, 255, 255, 0.5);
}

.hero-stats {
  flex: 1;
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 20px;
}

.hero-info h3 {
  margin: 0 0 10px 0;
  color: white;
  font-size: 18px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.stat-bars {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.stat-bar {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.stat-bar label {
  color: white;
  font-weight: bold;
  font-size: 14px;
}

.progress-container {
  width: 200px;
  height: 10px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 5px;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.progress-bar {
  height: 100%;
  transition: width 0.3s ease;
}

.progress-bar.hp {
  background: linear-gradient(90deg, #e53935, #f44336);
}

.progress-bar.exp {
  background: linear-gradient(90deg, #ffa726, #ff9800);
}

.progress-bar.enemy-hp {
  background: linear-gradient(90deg, #d32f2f, #b71c1c);
}

.hero-combat-stats {
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: flex-end;
}

.stat-item {
  background: rgba(255, 255, 255, 0.1);
  padding: 8px 12px;
  border-radius: 8px;
  color: white;
  font-weight: bold;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

/* Rest Status */
.rest-status {
  background: linear-gradient(145deg, #ff9800, #f57c00);
  padding: 15px;
  border-radius: 10px;
  text-align: center;
  color: white;
  font-weight: bold;
  border: 3px solid #ef6c00;
  margin-bottom: 20px;
}

.rest-status p {
  margin: 0;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

/* Adventure Controls */
.adventure-controls {
  display: flex;
  gap: 10px;
  justify-content: center;
}

.start-adventure-btn, .stop-adventure-btn {
  padding: 12px 24px !important;
  font-size: 16px !important;
  font-weight: bold !important;
  border-radius: 10px !important;
  cursor: pointer !important;
  transition: all 0.3s ease !important;
}

.start-adventure-btn {
  background: linear-gradient(145deg, #4caf50, #2e7d32) !important;
  color: white !important;
  border: 3px solid #1b5e20 !important;
}

.start-adventure-btn:hover:not(:disabled) {
  background: linear-gradient(145deg, #66bb6a, #4caf50) !important;
  transform: translateY(-2px);
}

.stop-adventure-btn {
  background: linear-gradient(145deg, #f44336, #d32f2f) !important;
  color: white !important;
  border: 3px solid #b71c1c !important;
}

.stop-adventure-btn:hover:not(:disabled) {
  background: linear-gradient(145deg, #ef5350, #f44336) !important;
  transform: translateY(-2px);
}

/* Combat Panel */
.combat-panel {
  background: linear-gradient(145deg, #5d4037, #6d4c41);
}

.combat-area {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 15px;
  padding: 20px;
  border: 3px solid #3e2723;
  position: relative;
  overflow: hidden;
  min-height: 250px;
}

.combat-participants {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 20px;
  align-items: center;
  margin-bottom: 20px;
  height: 150px;
}

.participant {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  position: relative;
}

.participant-sprite {
  font-size: 64px;
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  transition: all 0.3s ease;
  cursor: crosshair;
}

/* Hero Sprite Styling */
.hero-participant .participant-sprite {
  background: linear-gradient(145deg, #4caf50, #2e7d32);
  border: 3px solid #1b5e20;
  border-radius: 15px;
  box-shadow: 
    0 6px 20px rgba(76, 175, 80, 0.4),
    inset 0 2px 0 rgba(255, 255, 255, 0.3);
}

/* Enemy Sprite Styling */
.enemy-participant .participant-sprite {
  background: linear-gradient(145deg, #f44336, #d32f2f);
  border: 3px solid #b71c1c;
  border-radius: 15px;
  box-shadow: 
    0 6px 20px rgba(244, 67, 54, 0.4),
    inset 0 2px 0 rgba(255, 255, 255, 0.2);
}

/* Combat Animations */
.sprite-attacking {
  animation: attackAnimation 0.8s ease-in-out;
  z-index: 10;
}

.sprite-hit {
  animation: hitAnimation 0.6s ease-in-out;
  z-index: 5;
}

.sprite-idle {
  animation: idleAnimation 3s ease-in-out infinite;
}

@keyframes attackAnimation {
  0% {
    transform: translateX(0) scale(1);
  }
  30% {
    transform: translateX(15px) scale(1.1);
  }
  50% {
    transform: translateX(25px) scale(1.15) rotate(5deg);
    filter: brightness(1.3);
  }
  70% {
    transform: translateX(15px) scale(1.1) rotate(-2deg);
  }
  100% {
    transform: translateX(0) scale(1) rotate(0deg);
  }
}

@keyframes hitAnimation {
  0% {
    transform: translateX(0) rotate(0deg);
    filter: brightness(1);
  }
  25% {
    transform: translateX(-10px) rotate(-5deg);
    filter: brightness(1.5) hue-rotate(20deg);
  }
  50% {
    transform: translateX(-15px) rotate(3deg);
    filter: brightness(0.8) hue-rotate(-10deg);
  }
  75% {
    transform: translateX(-8px) rotate(-2deg);
    filter: brightness(1.2);
  }
  100% {
    transform: translateX(0) rotate(0deg);
    filter: brightness(1);
  }
}

@keyframes idleAnimation {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-3px);
  }
}

/* Enemy attack animation (moves left) */
.enemy-participant .sprite-attacking {
  animation: enemyAttackAnimation 0.8s ease-in-out;
}

@keyframes enemyAttackAnimation {
  0% {
    transform: translateX(0) scale(1);
  }
  30% {
    transform: translateX(-15px) scale(1.1);
  }
  50% {
    transform: translateX(-25px) scale(1.15) rotate(-5deg);
    filter: brightness(1.3);
  }
  70% {
    transform: translateX(-15px) scale(1.1) rotate(2deg);
  }
  100% {
    transform: translateX(0) scale(1) rotate(0deg);
  }
}

.participant-info {
  text-align: center;
  color: white;
}

.participant-info h4 {
  margin: 0 0 5px 0;
  font-size: 16px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.enemy-hp-bar {
  display: flex;
  flex-direction: column;
  gap: 5px;
  align-items: center;
}

.enemy-hp-bar label {
  font-size: 12px;
  color: white;
}

.combat-vs {
  font-size: 24px;
  font-weight: bold;
  color: #ff5722;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
  background: linear-gradient(145deg, rgba(255, 87, 34, 0.2), rgba(255, 87, 34, 0.3));
  padding: 10px 15px;
  border-radius: 10px;
  border: 2px solid #d84315;
}

.adventure-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 15px;
  margin-top: 20px;
}

.adventure-stats .stat-item {
  background: rgba(255, 255, 255, 0.1);
  padding: 12px;
  border-radius: 10px;
  text-align: center;
  color: white;
  font-weight: bold;
  border: 2px solid rgba(255, 255, 255, 0.2);
  box-shadow: inset 0 2px 0 rgba(255, 255, 255, 0.1);
}

/* Upgrades Panel */
.upgrades-panel {
  background: linear-gradient(145deg, #8b4513, #a0522d);
}

.upgrade-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
}

.upgrade-item {
  background: rgba(255, 255, 255, 0.1);
  border: 3px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  padding: 15px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: all 0.3s ease;
}

.upgrade-item:hover {
  background: rgba(255, 255, 255, 0.15);
  border-color: rgba(255, 255, 255, 0.3);
  transform: translateY(-2px);
}

.upgrade-info h4 {
  margin: 0 0 5px 0;
  color: white;
  font-size: 14px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.upgrade-info p {
  margin: 0;
  color: rgba(255, 255, 255, 0.8);
  font-size: 12px;
}

.upgrade-btn {
  background: linear-gradient(145deg, #2e7d32, #1b5e20) !important;
  color: white !important;
  border: 2px solid #0d4716 !important;
  border-radius: 6px !important;
  padding: 6px 10px !important;
  cursor: pointer !important;
  font-size: 11px !important;
  font-weight: bold !important;
  transition: all 0.2s ease !important;
  min-width: 60px;
}

.upgrade-btn:hover:not(:disabled) {
  background: linear-gradient(145deg, #388e3c, #2e7d32) !important;
  transform: translateY(-1px);
}

.upgrade-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Combat Effects */
.combat-effect {
  position: absolute;
  font-size: 20px;
  font-weight: bold;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
  pointer-events: none;
  z-index: 15;
  user-select: none;
}

.combat-effect.hero-damage {
  color: #4caf50;
  animation: heroDamage 1.2s ease-out forwards;
}

.combat-effect.enemy-damage {
  color: #f44336;
  animation: enemyDamage 1.2s ease-out forwards;
}

.combat-effect.critical {
  font-size: 24px;
  color: #ffd700;
  animation: criticalDamage 1.5s ease-out forwards;
}

@keyframes heroDamage {
  0% {
    opacity: 1;
    transform: translateY(0) scale(0.8);
  }
  20% {
    transform: translateY(-10px) scale(1.2);
  }
  100% {
    opacity: 0;
    transform: translateY(-40px) scale(1) translateX(10px);
  }
}

@keyframes enemyDamage {
  0% {
    opacity: 1;
    transform: translateY(0) scale(0.8);
  }
  20% {
    transform: translateY(-10px) scale(1.2);
  }
  100% {
    opacity: 0;
    transform: translateY(-40px) scale(1) translateX(-10px);
  }
}

@keyframes criticalDamage {
  0% {
    opacity: 1;
    transform: translateY(0) scale(0.5) rotate(-10deg);
  }
  25% {
    transform: translateY(-15px) scale(1.5) rotate(5deg);
    color: #ff6b35;
  }
  50% {
    transform: translateY(-25px) scale(1.3) rotate(-2deg);
    color: #ffd700;
  }
  100% {
    opacity: 0;
    transform: translateY(-50px) scale(1.1) rotate(0deg);
  }
}

/* Impact Effects */
.impact-effect {
  position: absolute;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 12;
}

.impact-effect.hero-impact {
  background: radial-gradient(circle, rgba(76, 175, 80, 0.6) 0%, rgba(76, 175, 80, 0) 70%);
  animation: heroImpact 0.6s ease-out forwards;
}

.impact-effect.enemy-impact {
  background: radial-gradient(circle, rgba(244, 67, 54, 0.6) 0%, rgba(244, 67, 54, 0) 70%);
  animation: enemyImpact 0.6s ease-out forwards;
}

@keyframes heroImpact {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  50% {
    transform: scale(1.5);
    opacity: 0.8;
  }
  100% {
    transform: scale(2);
    opacity: 0;
  }
}

@keyframes enemyImpact {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  50% {
    transform: scale(1.5);
    opacity: 0.8;
  }
  100% {
    transform: scale(2);
    opacity: 0;
  }
}

/* Particle Effects */
.particle-effect {
  position: absolute;
  width: 4px;
  height: 4px;
  background: #ffd700;
  border-radius: 50%;
  pointer-events: none;
  z-index: 11;
}

.particle-effect.spark {
  animation: sparkParticle 0.8s ease-out forwards;
}

@keyframes sparkParticle {
  0% {
    opacity: 1;
    transform: scale(1);
  }
  100% {
    opacity: 0;
    transform: scale(0) translateX(var(--random-x, 20px)) translateY(var(--random-y, -20px));
  }
}

/* Death Animation */
.sprite-dying {
  animation: deathAnimation 2s ease-in-out forwards;
}

@keyframes deathAnimation {
  0% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
    filter: brightness(1);
  }
  30% {
    transform: scale(1.1) rotate(5deg);
    filter: brightness(1.5) hue-rotate(20deg);
  }
  70% {
    transform: scale(0.9) rotate(-10deg);
    opacity: 0.7;
    filter: brightness(0.5) grayscale(0.5);
  }
  100% {
    transform: scale(0.8) rotate(-20deg);
    opacity: 0.3;
    filter: brightness(0.2) grayscale(1);
  }
}

/* Mobile Responsiveness for Adventure */
@media (max-width: 768px) {
  .adventure-toggle {
    top: 5px;
    right: 5px;
  }
  
  .adventure-toggle-btn {
    padding: 8px 12px !important;
    font-size: 14px !important;
  }
  
  .adventure-panel {
    padding: 10px;
  }
  
  .adventure-header {
    flex-direction: column;
    gap: 10px;
    text-align: center;
  }
  
  .hero-display {
    flex-direction: column;
    text-align: center;
  }
  
  .hero-stats {
    grid-template-columns: 1fr;
    text-align: center;
  }
  
  .hero-combat-stats {
    align-items: center;
  }
  
  .combat-participants {
    grid-template-columns: 1fr;
    gap: 10px;
  }
  
  .combat-vs {
    order: 1;
  }
  
  .hero-participant {
    order: 0;
  }
  
  .enemy-participant {
    order: 2;
  }
  
  .adventure-controls {
    flex-direction: column;
    gap: 10px;
  }
  
  .upgrade-grid {
    grid-template-columns: 1fr;
  }
}

/* Tablet and smaller screens */
@media (max-width: 768px) {
  body {
    font-size: 13px;
    padding: 10px;
  }
  
  h1 {
    font-size: 1.6em;
    margin-bottom: 15px;
  }
  
  .gold-display {
    font-size: 1.0em;
    padding: 12px;
    margin-bottom: 15px;
  }
  
  .panel {
    padding: 15px;
    margin-bottom: 10px;
  }
  
  .building-display {
    flex-direction: column;
    text-align: center;
    gap: 15px;
  }
  
  .building-info {
    text-align: center;
  }
  
  .upgrade-buttons {
    flex-direction: column;
    gap: 8px;
  }
  
  .small-upgrade-btn {
    font-size: 12px;
    padding: 12px;
    min-width: 80px;
  }
  
  /* Override for generator upgrade cards to keep them compact */
  .generator-upgrade-card .small-upgrade-btn {
    width: auto !important;
    min-width: 60px !important;
    font-size: 0.75em !important;
    padding: 8px 10px !important;
    flex-shrink: 0 !important;
    white-space: nowrap !important;
  }
  
  button {
    font-size: 14px;
    padding: 12px 16px;
    min-height: 44px; /* Better touch target */
  }
  
  .generator-item {
    gap: 12px;
    padding: 12px;
    margin: 8px 0;
    min-height: 70px;
  }
  
  .generator-item .progress-container {
    width: 120px; /* Smaller on tablets */
  }
  
  .generator-sprite {
    width: 50px;
    height: 50px;
    font-size: 1.4em;
  }
  
  .generator-sprite.clickable::before {
    font-size: 0.9em;
    top: -10px;
    right: -6px;
  }
  
  .generator-sprite.working::before {
    font-size: 0.8em;
    top: -8px;
    right: -4px;
  }
}

/* Smartphone screens - conflicts removed, handled by main mobile styles above */
  
  h1 {
    font-size: 1.4em;
    margin-bottom: 10px;
    text-align: center;
    width: 100%;
    max-width: 400px;
  }
  
  .gold-display {
    font-size: 0.9em;
    padding: 10px;
    flex-wrap: wrap;
    justify-content: center;
  }
  
  .reset-btn {
    font-size: 12px !important;
    padding: 8px 16px !important;
  }
  
  .panel {
    padding: 12px;
    margin-bottom: 8px;
    border-radius: 8px;
    width: 100%;
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
  }
  
  .panel h2 {
    font-size: 1.1em;
    margin-bottom: 10px;
  }
  
  /* Generator improvements for mobile - compact layout */
  .generator-item {
    min-height: 65px; /* More space on mobile too */
    padding: 10px;
    gap: 8px;
    margin: 6px 0;
  }
  
  .generator-item .progress-container {
    width: 100px; /* Smaller on phones */
    height: 10px;
  }
  
  .generator-sprite {
    width: 38px;
    height: 38px;
    font-size: 1.2em;
  }
  
  .generator-sprite.clickable::before {
    content: "ðŸ‘†";
    font-size: 0.7em;
    top: -8px;
    right: -4px;
  }
  
  .generator-sprite.working::before {
    content: "âš¡";
    font-size: 0.7em;
    top: -6px;
    right: -2px;
  }
  
  .generator-info {
    min-height: 45px;
    gap: 3px;
  }
  
  .generator-line1 {
    font-size: 0.8em;
  }
  
  .generator-line2 {
    font-size: 0.75em;
  }
  
  .buy-btn {
    width: 38px;
    height: 38px;
    font-size: 0.7em;
  }
  
  .generator-count, .generator-total {
    font-size: 1.0em;
    margin: 2px 0;
  }
  
  /* Chief section mobile optimization */
  .chief-sprite {
    width: 70px;
    height: 70px;
    font-size: 1.8em;
  }
  
  #chiefBtn {
    width: 100%;
    min-height: 48px;
    margin: 10px 0;
  }
  
  /* Stats rows for mobile */
  .stats-row {
    flex-direction: column;
    gap: 8px;
    text-align: center;
  }
  
  .stats-row button {
    width: 100%;
  }
  
  /* Combat section mobile */
  .camp-selection {
    padding: 5px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  
  .camp-item {
    flex-direction: column;
    text-align: center;
    gap: 8px;
    padding: 12px;
    width: 100%;
    max-width: 300px;
    align-items: center;
    justify-content: center;
  }
  
  .camp-sprite {
    margin: 0 auto 8px auto;
  }
  
  .camp-info {
    width: 100%;
    text-align: center;
  }
  
  .combat-controls {
    width: 100%;
    max-width: 300px;
    margin: 15px auto;
  }
  
  .combat-controls input {
    width: 100%;
    margin: 8px 0;
    min-height: 44px;
    font-size: 16px; /* Prevents zoom on iOS */
    box-sizing: border-box;
  }
  
  .combat-controls label {
    display: block;
    width: 100%;
    text-align: center;
    margin-bottom: 5px;
  }
  
  .attack-btn {
    width: 100%;
    min-height: 48px;
    margin: 15px 0 10px 0;
  }
  
  .camp-cooldown {
    text-align: center;
    margin-top: 10px;
  }
  
  .attack-result {
    margin: 10px auto;
    max-width: 320px;
    text-align: center;
    word-wrap: break-word;
  }
  
  /* Building section mobile */
  .building-sprite {
    width: 60px;
    height: 60px;
    font-size: 2em;
  }
  
  .upgrade-category {
    padding: 10px;
    margin: 8px 0;
  }
  
  .upgrade-category h4 {
    font-size: 1.0em;
  }
  
  .small-upgrade-btn {
    font-size: 11px;
    padding: 10px;
    min-height: 40px;
    min-width: 70px;
  }
  
  /* Specific overrides for generator upgrade cards on small screens */
  .generator-upgrade-card .small-upgrade-btn {
    width: auto !important;
    min-width: 55px !important;
    font-size: 0.7em !important;
    padding: 6px 8px !important;
    min-height: 32px !important;
    flex-shrink: 0 !important;
    white-space: nowrap !important;
  }
  
  /* Progress bars */
  .progress-container {
    height: 20px;
  }
}

/* Very small screens */
@media (max-width: 360px) {
  body {
    padding: 70px 5px 60px 5px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  
  .game-container {
    max-width: 340px;
  }
  
  h1 {
    font-size: 1.2em;
    max-width: 340px;
  }
  
  .gold-display {
    font-size: 0.8em;
    padding: 8px;
  }
  
  .panel {
    padding: 10px;
    max-width: 340px;
  }
  
  .generator-sprite {
    width: 45px;
    height: 45px;
    font-size: 1.3em;
  }
  
  .chief-sprite {
    width: 60px;
    height: 60px;
    font-size: 1.6em;
  }
}

/* Adventure Header Button */
.adventure-header-btn {
  background: linear-gradient(135deg, #8b4513, #a0522d);
  color: white;
  border: 2px solid #654321;
  border-radius: 8px;
  padding: 8px 16px;
  font-size: 0.9em;
  font-weight: bold;
  cursor: pointer;
  margin-left: 15px;
  box-shadow: 0 3px 8px rgba(139, 69, 19, 0.3);
  transition: all 0.2s ease;
}

.adventure-header-btn:hover {
  background: linear-gradient(135deg, #a0522d, #8b4513);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(139, 69, 19, 0.4);
}

.adventure-header-btn:active {
  transform: translateY(0);
}

.help-btn {
  background: linear-gradient(135deg, #ff9800, #f57c00);
  color: white;
  border: 1px solid #ef6c00;
  border-radius: 50%;
  width: 25px;
  height: 25px;
  margin-left: 8px;
  cursor: pointer;
  font-size: 12px;
  font-weight: bold;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 4px rgba(255, 152, 0, 0.3);
}

.help-btn:hover {
  background: linear-gradient(135deg, #ffa726, #ff9800);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(255, 152, 0, 0.4);
}

.help-btn:active {
  transform: translateY(0);
}

/* Compact Adventure Layout */
.adventure-compact-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  margin-top: 10px;
}

.adventure-left, .adventure-right {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

/* Compact Hero Panel */
.hero-panel-compact {
  padding: 15px;
}

.hero-status-compact {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.hero-character {
  font-size: 2.5em;
  width: 50px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid #8b4513;
  border-radius: 8px;
  background: linear-gradient(135deg, #f5f5dc 0%, #ddd8c0 100%);
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

.hero-info-compact {
  flex: 1;
}

.hero-level {
  font-size: 1em;
  font-weight: bold;
  margin-bottom: 8px;
  color: #2e7d32;
}

.hero-bars {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.mini-bar {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.8em;
}

.bar-label {
  width: 16px;
  text-align: center;
}

.progress-container.mini {
  height: 8px;
  width: 80px;
  border-radius: 4px;
}

.bar-value {
  font-size: 0.75em;
  min-width: 50px;
}

.hero-stats-compact {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.stat-compact {
  font-size: 0.8em;
  padding: 2px 6px;
  background: rgba(139, 69, 19, 0.1);
  border-radius: 4px;
  border: 1px solid rgba(139, 69, 19, 0.2);
}

.rest-status-compact {
  background: rgba(255, 193, 7, 0.1);
  border: 1px solid rgba(255, 193, 7, 0.3);
  border-radius: 6px;
  padding: 8px;
  text-align: center;
  font-size: 0.85em;
  color: #f57c00;
  margin-bottom: 12px;
}

.adventure-controls-compact {
  display: flex;
  gap: 10px;
}

.adventure-btn {
  flex: 1;
  padding: 10px 8px;
  background: linear-gradient(135deg, #4caf50, #66bb6a);
  color: white;
  border: none;
  border-radius: 6px;
  font-size: 0.85em;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.2s ease;
}

.adventure-btn.stop {
  background: linear-gradient(135deg, #f44336, #ef5350);
}

.adventure-btn:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 3px 8px rgba(0,0,0,0.2);
}

.adventure-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Compact Combat Panel */
.combat-panel-compact {
  padding: 15px;
}

.combat-area-compact {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 15px;
  padding: 10px;
  background: rgba(139, 69, 19, 0.05);
  border: 2px solid rgba(139, 69, 19, 0.2);
  border-radius: 8px;
}

.fighter {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.character-sprite {
  font-size: 2.2em;
  width: 45px;
  height: 45px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid #8b4513;
  border-radius: 8px;
  background: linear-gradient(135deg, #f5f5dc 0%, #ddd8c0 100%);
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
  transition: all 0.3s ease;
}

.fighter-name {
  font-size: 0.8em;
  font-weight: bold;
  text-align: center;
}

.fighter-info {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.enemy-hp-compact {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
}

.hp-text {
  font-size: 0.7em;
  text-align: center;
}

.combat-vs-compact {
  font-size: 1.5em;
  font-weight: bold;
  color: #d32f2f;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
}

.adventure-stats-compact {
  display: flex;
  justify-content: space-around;
  padding: 8px;
  background: rgba(33, 150, 243, 0.1);
  border: 1px solid rgba(33, 150, 243, 0.2);
  border-radius: 6px;
}

.stat-compact-item {
  font-size: 0.8em;
  font-weight: bold;
  color: #1565c0;
}

/* Compact Upgrades Panel */
.upgrades-panel-compact {
  padding: 15px;
}

.upgrades-panel-compact h3 {
  margin: 0 0 12px 0;
  font-size: 1.1em;
}

.upgrade-grid-compact {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.upgrade-item-compact {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px;
  background: rgba(139, 69, 19, 0.05);
  border: 1px solid rgba(139, 69, 19, 0.2);
  border-radius: 6px;
}

.upgrade-icon {
  font-size: 1.3em;
  width: 30px;
  text-align: center;
}

.upgrade-details {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.upgrade-name {
  font-size: 0.85em;
  font-weight: bold;
}

.upgrade-level {
  font-size: 0.75em;
  color: #666;
}

.upgrade-btn-compact {
  background: linear-gradient(135deg, #2196f3, #42a5f5);
  color: white;
  border: none;
  border-radius: 4px;
  padding: 6px 12px;
  font-size: 0.8em;
  font-weight: bold;
  cursor: pointer;
  min-width: 65px;
  transition: all 0.2s ease;
}

.upgrade-btn-compact:hover:not(:disabled) {
  background: linear-gradient(135deg, #1976d2, #2196f3);
  transform: translateY(-1px);
}

.upgrade-btn-compact:disabled {
  background: linear-gradient(135deg, #757575, #616161);
  opacity: 0.6;
  cursor: not-allowed;
}

/* Combat Animations for Characters */
@keyframes heroAttack {
  0% { transform: translateX(0) scale(1); }
  50% { transform: translateX(8px) scale(1.05) rotate(5deg); filter: brightness(1.2); }
  100% { transform: translateX(0) scale(1) rotate(0deg); }
}

@keyframes enemyAttack {
  0% { transform: translateX(0) scale(1); }
  50% { transform: translateX(-8px) scale(1.05) rotate(-5deg); filter: brightness(1.2); }
  100% { transform: translateX(0) scale(1) rotate(0deg); }
}

@keyframes hitEffect {
  0% { transform: scale(1); filter: brightness(1); }
  50% { transform: scale(0.95); filter: brightness(1.5) contrast(1.3); }
  100% { transform: scale(1); filter: brightness(1); }
}

@keyframes deathEffect {
  0% { transform: scale(1) rotate(0deg); opacity: 1; }
  25% { transform: scale(1.1) rotate(5deg); }
  50% { transform: scale(0.9) rotate(-5deg); }
  75% { transform: scale(0.95) rotate(3deg); }
  100% { transform: scale(0.8) rotate(0deg); opacity: 0.3; filter: grayscale(1); }
}

.character-sprite.attack-hero {
  animation: heroAttack 0.4s ease-in-out;
}

.character-sprite.attack-enemy {
  animation: enemyAttack 0.4s ease-in-out;
}

.character-sprite.hit {
  animation: hitEffect 0.3s ease-in-out;
}

.character-sprite.death {
  animation: deathEffect 1s ease-in-out forwards;
}

/* Mobile Responsiveness for Compact Adventure */
@media (max-width: 768px) {
  .adventure-compact-layout {
    grid-template-columns: 1fr;
    gap: 10px;
  }
  
  .hero-character, .character-sprite {
    width: 40px;
    height: 40px;
    font-size: 1.8em;
  }
  
  .progress-container.mini {
    width: 60px;
    height: 6px;
  }
  
  .upgrade-grid-compact {
    gap: 6px;
  }
  
  .upgrade-item-compact {
    padding: 6px;
  }
  
  .adventure-header-btn {
    margin-left: 8px;
    padding: 6px 12px;
    font-size: 0.8em;
  }
}

@media (max-width: 480px) {
  .hero-status-compact {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }
  
  .hero-bars {
    width: 100%;
  }
  
  .combat-area-compact {
    padding: 8px;
  }
  
  .fighter {
    gap: 4px;
  }
}

/* Chief Upgrade Grid - 2 cards side by side */
.chief-upgrade-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  margin-top: 15px;
}

.chief-upgrade-card {
  background: linear-gradient(145deg, #8b4513, #a0522d);
  border: 2px solid #654321;
  border-radius: 10px;
  padding: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  transition: all 0.3s ease;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
}

.chief-upgrade-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
}

.chief-upgrade-card .upgrade-icon {
  font-size: 1.6em;
  margin-bottom: 3px;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

.chief-upgrade-card .upgrade-info {
  text-align: center;
  color: white;
}

.chief-upgrade-card .upgrade-title {
  font-size: 0.8em;
  font-weight: bold;
  margin-bottom: 3px;
}

.chief-upgrade-card .upgrade-value {
  font-size: 1em;
  color: #ffeb3b;
  font-weight: bold;
}

/* Generator Upgrade Grid - 3 cards side by side */
.generator-upgrade-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 12px;
  margin-top: 10px;
}

.generator-upgrade-card {
  background: linear-gradient(145deg, #6d4c41, #8d6e63);
  border: 2px solid #4e342e;
  border-radius: 10px;
  padding: 8px 12px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  transition: all 0.3s ease;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
  min-height: 44px;
}

.generator-upgrade-card:hover {
  transform: translateY(-1px);
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3);
}

.generator-upgrade-card .upgrade-icon {
  font-size: 1.4em;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
  flex-shrink: 0;
}

.generator-upgrade-card .upgrade-info {
  text-align: left;
  color: white;
  flex: 1;
  min-width: 0;
}

.generator-upgrade-card .upgrade-title {
  font-size: 0.75em;
  font-weight: bold;
  margin: 0;
  line-height: 1.1;
}

.generator-upgrade-card .upgrade-level {
  font-size: 0.7em;
  color: #ffc107;
  font-weight: bold;
  margin: 0;
  line-height: 1;
}

.generator-upgrade-card .small-upgrade-btn {
  min-width: 60px;
  font-size: 0.7em;
  padding: 6px 10px;
  margin: 0;
  flex-shrink: 0;
  white-space: nowrap;
}

/* Mobile responsiveness for upgrade grids */
@media (max-width: 768px) {
  .chief-upgrade-grid {
    grid-template-columns: 1fr;
    gap: 12px;
  }
  
  .generator-upgrade-grid {
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }
  
  .chief-upgrade-card {
    padding: 12px;
  }
  
  .generator-upgrade-card {
    padding: 6px 10px;
    gap: 6px;
    min-height: 40px;
  }
}

@media (max-width: 480px) {
  .generator-upgrade-grid {
    grid-template-columns: 1fr;
    gap: 6px;
  }
  
  .generator-upgrade-card {
    padding: 6px 8px;
    min-height: 36px;
  }
  
  .generator-upgrade-card .upgrade-icon {
    font-size: 1.2em;
  }
  
  .generator-upgrade-card .upgrade-title {
    font-size: 0.7em;
  }
  
  .generator-upgrade-card .upgrade-level {
    font-size: 0.65em;
  }
  
  .generator-upgrade-card .small-upgrade-btn {
    font-size: 0.65em;
    padding: 4px 8px;
    min-width: 50px;
  }
  
  .chief-upgrade-card .upgrade-icon {
    font-size: 1.8em;
  }
}

/* Tutorial Modal Styles */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  z-index: 10000;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
  backdrop-filter: blur(5px);
}

.modal-content {
  background: linear-gradient(145deg, #8b4513, #a0522d);
  border: 4px solid #654321;
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
  max-width: 600px;
  width: 100%;
  max-height: 90vh;
  overflow: hidden;
  position: relative;
}

.modal-header {
  background: linear-gradient(145deg, #654321, #8b4513);
  padding: 20px 30px;
  border-bottom: 2px solid #4e342e;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.modal-header h2 {
  color: white;
  margin: 0;
  font-size: 1.8em;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.close-modal-btn {
  background: none;
  border: none;
  color: white;
  font-size: 2em;
  cursor: pointer;
  padding: 0;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  transition: all 0.3s ease;
}

.close-modal-btn:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: scale(1.1);
}

.tutorial-content {
  padding: 30px;
  max-height: 400px;
  overflow-y: auto;
  color: white;
}

.tutorial-page {
  text-align: center;
  animation: fadeIn 0.5s ease;
}

.tutorial-icon {
  font-size: 4em;
  margin-bottom: 20px;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
}

.tutorial-page h3 {
  color: #ffc107;
  font-size: 1.5em;
  margin-bottom: 15px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.tutorial-page p {
  font-size: 1.1em;
  margin-bottom: 15px;
  line-height: 1.4;
}

.tutorial-page ul {
  text-align: left;
  max-width: 450px;
  margin: 0 auto 20px auto;
  padding-left: 0;
  list-style: none;
}

.tutorial-page li {
  margin-bottom: 8px;
  padding: 8px 12px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  border-left: 4px solid #ffc107;
}

.tutorial-navigation {
  padding: 20px 30px;
  border-top: 2px solid #4e342e;
  background: rgba(0, 0, 0, 0.2);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.tutorial-nav-btn {
  background: linear-gradient(145deg, #4caf50, #2e7d32);
  color: white;
  border: 2px solid #1b5e20;
  border-radius: 10px;
  padding: 10px 20px;
  cursor: pointer;
  font-weight: bold;
  transition: all 0.3s ease;
}

.tutorial-nav-btn:hover:not(:disabled) {
  background: linear-gradient(145deg, #66bb6a, #4caf50);
  transform: translateY(-2px);
}

.tutorial-nav-btn:disabled {
  background: #666;
  border-color: #444;
  cursor: not-allowed;
  opacity: 0.5;
}

.tutorial-dots {
  display: flex;
  gap: 10px;
}

.tutorial-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  cursor: pointer;
  transition: all 0.3s ease;
}

.tutorial-dot.active {
  background: #ffc107;
  transform: scale(1.2);
}

.tutorial-dot:hover {
  background: rgba(255, 255, 255, 0.6);
}

.tutorial-footer {
  padding: 20px 30px;
  border-top: 2px solid #4e342e;
  background: rgba(0, 0, 0, 0.3);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.tutorial-checkbox {
  color: white;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-size: 0.9em;
}

.tutorial-checkbox input[type="checkbox"] {
  width: 18px;
  height: 18px;
  accent-color: #ffc107;
}

.start-game-btn {
  background: linear-gradient(145deg, #ff6b35, #ff8c42);
  color: white;
  border: 3px solid #e55100;
  border-radius: 15px;
  padding: 12px 25px;
  font-size: 1.1em;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
}

.start-game-btn:hover {
  background: linear-gradient(145deg, #ff8c42, #ff6b35);
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(255, 107, 53, 0.4);
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Mobile responsiveness for tutorial */
@media (max-width: 768px) {
  .modal-content {
    margin: 10px;
    max-width: none;
    border-radius: 15px;
  }
  
  .modal-header {
    padding: 15px 20px;
  }
  
  .modal-header h2 {
    font-size: 1.4em;
  }
  
  .tutorial-content {
    padding: 20px;
    max-height: 50vh;
  }
  
  .tutorial-icon {
    font-size: 3em;
    margin-bottom: 15px;
  }
  
  .tutorial-page h3 {
    font-size: 1.3em;
  }
  
  .tutorial-page p {
    font-size: 1em;
  }
  
  .tutorial-navigation {
    padding: 15px 20px;
  }
  
  .tutorial-nav-btn {
    padding: 8px 16px;
    font-size: 0.9em;
  }
  
  .tutorial-footer {
    padding: 15px 20px;
    flex-direction: column;
    gap: 15px;
  }
  
  .tutorial-checkbox {
    font-size: 0.8em;
  }
}

/* University Panel Styles */
.university-panel {
  background: linear-gradient(145deg, #8b4513, #a0522d);
  border: 4px solid #654321;
}

.university-display {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 15px;
}

.university-sprite {
  font-size: 4em;
  background: linear-gradient(145deg, #ffffff, #e0e0e0);
  border-radius: 15px;
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 
    0 6px 20px rgba(0, 0, 0, 0.3),
    inset 0 2px 0 rgba(255, 255, 255, 0.5);
  flex-shrink: 0;
}

.university-info {
  flex: 1;
  color: white;
}

.university-info h3 {
  color: #ffc107;
  margin: 0 0 8px 0;
  font-size: 1.4em;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.university-info p {
  margin: 0;
  font-size: 1em;
  line-height: 1.3;
  color: rgba(255, 255, 255, 0.9);
}

.university-actions {
  flex-shrink: 0;
}

/* Research Display Styles */
.research-display {
  display: flex;
  align-items: center;
  gap: 15px;
  background: rgba(0, 0, 0, 0.2);
  padding: 15px;
  border-radius: 10px;
  margin-bottom: 15px;
}

.research-icon-container {
  flex-shrink: 0;
}

.research-icon {
  font-size: 2.5em;
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(145deg, #ffffff, #e0e0e0);
  border-radius: 10px;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
}

.research-details {
  flex: 1;
  color: white;
}

.research-name {
  font-size: 1.2em;
  font-weight: bold;
  color: #ffc107;
  margin-bottom: 5px;
}

.research-description {
  font-size: 0.9em;
  margin-bottom: 10px;
  color: rgba(255, 255, 255, 0.8);
}

.research-progress {
  margin-bottom: 10px;
}

.research-progress .progress-container {
  width: 200px;
  height: 8px;
  margin-bottom: 5px;
}

.research-progress-bar {
  background: linear-gradient(90deg, #4caf50, #8bc34a);
}

.research-time {
  font-size: 0.8em;
  color: rgba(255, 255, 255, 0.7);
}

.research-actions {
  display: flex;
  flex-direction: column;
  gap: 8px;
  flex-shrink: 0;
}

.speed-up-btn, .toggle-research-btn {
  background: linear-gradient(145deg, #ff9800, #f57c00);
  color: white;
  border: 2px solid #ef6c00;
  border-radius: 8px;
  padding: 6px 8px;
  font-size: 0.7em;
  cursor: pointer;
  transition: all 0.3s ease;
  white-space: nowrap;
  max-width: 120px;
  overflow: hidden;
  text-overflow: ellipsis;
}

.speed-up-btn:hover, .toggle-research-btn:hover {
  background: linear-gradient(145deg, #ffa726, #ff9800);
  transform: translateY(-1px);
}

.speed-up-btn:disabled {
  background: #666;
  border-color: #444;
  cursor: not-allowed;
  opacity: 0.5;
}

/* Research Categories */
.research-categories {
  margin-top: 15px;
}

.research-categories h4 {
  color: #ffc107;
  margin-bottom: 15px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.research-category {
  margin-bottom: 15px;
}

.research-category h5 {
  color: white;
  margin-bottom: 10px;
  font-size: 1.1em;
}

.research-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 8px;
}

.research-item {
  background: rgba(255, 255, 255, 0.1);
  border: 2px solid rgba(255, 255, 255, 0.2);
  border-radius: 8px;
  padding: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.research-item:hover {
  background: rgba(255, 255, 255, 0.15);
  transform: translateY(-2px);
}

.research-item.completed {
  background: rgba(76, 175, 80, 0.2);
  border-color: #4caf50;
}

.research-item.locked {
  opacity: 0.6;
  cursor: not-allowed;
}

.research-item-header {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 6px;
}

.research-item-icon {
  font-size: 1.3em;
}

.research-item-name {
  font-weight: bold;
  color: white;
  font-size: 0.9em;
}

.research-item-description {
  color: rgba(255, 255, 255, 0.8);
  font-size: 0.75em;
  margin-bottom: 6px;
  line-height: 1.2;
}

.research-item-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.7em;
}

.research-cost {
  color: #ffc107;
  font-weight: bold;
}

.research-duration {
  color: rgba(255, 255, 255, 0.7);
}

.research-status {
  font-weight: bold;
  text-transform: uppercase;
}

.research-status.available {
  color: #4caf50;
}

.research-status.completed {
  color: #2196f3;
}

.research-status.locked {
  color: #f44336;
}

.research-stats {
  background: rgba(0, 0, 0, 0.3);
  padding: 15px;
  border-radius: 10px;
  display: flex;
  gap: 30px;
  justify-content: center;
}

.research-stats .stat-item {
  text-align: center;
  color: white;
}

.research-stats .stat-label {
  display: block;
  font-size: 0.8em;
  color: rgba(255, 255, 255, 0.7);
}

.research-stats .stat-value {
  display: block;
  font-size: 1.2em;
  font-weight: bold;
  color: #ffc107;
}

/* Mobile Responsiveness for University */
@media (max-width: 768px) {
  .university-display {
    flex-direction: column;
    text-align: center;
    gap: 15px;
  }
  
  .university-sprite {
    font-size: 3em;
    width: 60px;
    height: 60px;
  }
  
  .research-display {
    flex-direction: column;
    text-align: center;
    gap: 10px;
  }
  
  .research-actions {
    flex-direction: row;
    justify-content: center;
  }
  
  .research-grid {
    grid-template-columns: 1fr;
  }
  
  .research-stats {
    flex-direction: column;
    gap: 15px;
  }
}

@media (max-width: 480px) {
  .university-sprite {
    font-size: 2.5em;
    width: 50px;
    height: 50px;
  }
  
  .research-icon {
    font-size: 2em;
    width: 50px;
    height: 50px;
  }
  
  .research-display {
    padding: 12px;
  }
  
  .speed-up-btn, .toggle-research-btn {
    font-size: 0.7em;
    padding: 6px 10px;
  }
}

/* University System Styles */
.university-section {
  margin-top: 20px;
}

.university-sprite {
  font-size: 4em;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 80px;
  transition: all 0.3s ease;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

.university-building {
  margin-bottom: 15px;
}

.toggle-research-btn {
  background: linear-gradient(145deg, #1a237e, #303f9f);
  color: white;
  border: 2px solid #1a237e;
  border-radius: 6px;
  padding: 8px 16px;
  font-family: 'Courier New', monospace;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 0.9em;
  margin-left: 10px;
}

.toggle-research-btn:hover:not(:disabled) {
  background: linear-gradient(145deg, #303f9f, #1a237e);
  transform: translateY(-1px);
  box-shadow: 0 3px 6px rgba(26, 35, 126, 0.3);
}

.building-status {
  display: flex;
  align-items: center;
  gap: 20px;
}

.university-icon {
  font-size: 3em;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

.university-info {
  flex: 1;
}

.university-level {
  font-size: 1.2em;
  font-weight: bold;
  margin-bottom: 8px;
  color: #ffeb3b;
}

.university-description {
  color: #e0e0e0;
  line-height: 1.4;
}

.university-upgrade-btn {
  background: linear-gradient(145deg, #4caf50, #66bb6a);
  color: white;
  border: 2px solid #2e7d32;
  border-radius: 8px;
  padding: 12px 20px;
  font-family: 'Courier New', monospace;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}

.university-upgrade-btn:hover:not(:disabled) {
  background: linear-gradient(145deg, #66bb6a, #4caf50);
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(76, 175, 80, 0.3);
}

.university-upgrade-btn:disabled {
  background: linear-gradient(145deg, #757575, #616161);
  border-color: #424242;
  color: #bdbdbd;
  cursor: not-allowed;
  opacity: 0.7;
}

/* Current Research Styles */
.current-research {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 10px;
  padding: 20px;
  margin-bottom: 20px;
}

.research-in-progress {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  padding: 15px;
}

.research-header {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 15px;
}

.research-icon {
  font-size: 2em;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

.research-details {
  flex: 1;
}

.research-name {
  font-size: 1.1em;
  font-weight: bold;
  color: #ffeb3b;
  margin-bottom: 5px;
}

.research-description {
  color: #e0e0e0;
  line-height: 1.3;
}

.research-progress {
  margin-bottom: 15px;
}

.research-progress-bar {
  background: linear-gradient(90deg, #4caf50, #66bb6a);
  transition: width 0.5s ease;
}

.research-time {
  text-align: center;
  color: #e0e0e0;
  font-size: 0.9em;
  margin-top: 8px;
}

.research-actions {
  text-align: center;
}

.speed-up-btn {
  background: linear-gradient(145deg, #ff9800, #ffb74d);
  color: white;
  border: 2px solid #f57c00;
  border-radius: 6px;
  padding: 8px 16px;
  font-family: 'Courier New', monospace;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 0.9em;
}

.speed-up-btn:hover:not(:disabled) {
  background: linear-gradient(145deg, #ffb74d, #ff9800);
  transform: translateY(-1px);
  box-shadow: 0 3px 6px rgba(255, 152, 0, 0.3);
}

.speed-up-btn:disabled {
  background: linear-gradient(145deg, #757575, #616161);
  border-color: #424242;
  color: #bdbdbd;
  cursor: not-allowed;
  opacity: 0.7;
}

/* Research Categories and Grid */
.research-categories {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 10px;
  padding: 20px;
  margin-bottom: 20px;
}

.research-category {
  margin-bottom: 25px;
}

.research-category h4 {
  color: #ffeb3b;
  margin-bottom: 15px;
  border-bottom: 2px solid rgba(255, 235, 59, 0.3);
  padding-bottom: 8px;
}

.research-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 10px;
}

.research-item {
  background: rgba(255, 255, 255, 0.1);
  border: 2px solid rgba(255, 255, 255, 0.2);
  border-radius: 8px;
  padding: 12px;
  transition: all 0.3s ease;
  cursor: pointer;
}

.research-item:hover {
  background: rgba(255, 255, 255, 0.15);
  border-color: rgba(255, 255, 255, 0.3);
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

.research-item.unlocked {
  border-color: #4caf50;
  background: rgba(76, 175, 80, 0.1);
}

.research-item.completed {
  border-color: #ffeb3b;
  background: rgba(255, 235, 59, 0.1);
  opacity: 0.8;
}

.research-item.locked {
  border-color: #757575;
  background: rgba(117, 117, 117, 0.1);
  opacity: 0.6;
  cursor: not-allowed;
}

.research-item-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}

.research-item-icon {
  font-size: 1.5em;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
}

.research-item-name {
  font-weight: bold;
  color: #ffeb3b;
  flex: 1;
}

.research-item-description {
  color: #e0e0e0;
  font-size: 0.9em;
  line-height: 1.3;
  margin-bottom: 12px;
}

.research-item-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.85em;
}

.research-cost {
  color: #ffc107;
  font-weight: bold;
}

.research-duration {
  color: #e0e0e0;
}

.research-status {
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 0.75em;
  font-weight: bold;
  text-transform: uppercase;
}

.research-status.available {
  background: #4caf50;
  color: white;
}

.research-status.completed {
  background: #ffeb3b;
  color: #1a237e;
}

.research-status.locked {
  background: #757575;
  color: white;
}

.research-status.prerequisite {
  background: #f44336;
  color: white;
}

/* Research Statistics */
.research-stats {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 10px;
  padding: 15px;
  display: flex;
  justify-content: space-around;
  text-align: center;
}

.stat-item {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.stat-label {
  color: #e0e0e0;
  font-size: 0.9em;
}

.stat-value {
  color: #ffeb3b;
  font-weight: bold;
  font-size: 1.1em;
}

/* Prestige Panel Styles */
.prestige-panel {
  margin-top: 20px;
}

.prestige-display {
  display: flex;
  align-items: center;
  gap: 20px;
  background: rgba(0, 0, 0, 0.2);
  padding: 20px;
  border-radius: 12px;
  border: 2px solid #9c27b0;
}

.prestige-icon {
  font-size: 3em;
  filter: drop-shadow(0 0 10px rgba(156, 39, 176, 0.5));
  animation: pulse 2s ease-in-out infinite alternate;
}

@keyframes pulse {
  from { transform: scale(1); }
  to { transform: scale(1.1); }
}

.prestige-info {
  flex: 1;
  color: white;
}

.prestige-info h3 {
  color: #e1bee7;
  margin-bottom: 8px;
  font-size: 1.3em;
}

.prestige-info p {
  color: rgba(255, 255, 255, 0.8);
  margin-bottom: 15px;
}

.prestige-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 15px;
}

.prestige-actions {
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;
}

.prestige-btn {
  background: linear-gradient(145deg, #9c27b0, #7b1fa2);
  color: white;
  border: 3px solid #6a1b9a;
  border-radius: 12px;
  padding: 12px 20px;
  font-size: 1.1em;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
  min-width: 140px;
}

.prestige-btn:hover:not(:disabled) {
  background: linear-gradient(145deg, #ab47bc, #9c27b0);
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
}

.prestige-btn:disabled {
  background: #666;
  border-color: #444;
  cursor: not-allowed;
  opacity: 0.6;
}

.prestige-requirement {
  font-size: 0.9em;
  color: rgba(255, 255, 255, 0.8);
  text-align: center;
  max-width: 160px;
}

/* Tech Tree Styles */
.tech-tree-section {
  margin-top: 20px;
}

.tech-tree-toggle {
  display: flex;
  justify-content: center;
  margin-bottom: 15px;
}

.tech-tree-toggle-btn {
  background: linear-gradient(145deg, #673ab7, #512da8);
  color: white;
  border: 2px solid #4527a0;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1em;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
}

.tech-tree-toggle-btn:hover {
  background: linear-gradient(145deg, #7986cb, #673ab7);
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
}

.tech-tree-container {
  background: rgba(0, 0, 0, 0.3);
  border-radius: 12px;
  padding: 20px;
  border: 2px solid #673ab7;
}

.tech-tree-header {
  text-align: center;
  margin-bottom: 20px;
  color: white;
}

.tech-tree-header h4 {
  color: #e1bee7;
  font-size: 1.3em;
  margin-bottom: 10px;
}

.available-wisdom {
  font-size: 1.1em;
  color: #ffeb3b;
  font-weight: bold;
}

.wisdom-count {
  color: #ffc107;
  font-size: 1.2em;
}

.tech-category {
  background: rgba(255, 255, 255, 0.1);
  border: 2px solid;
  border-radius: 12px;
  padding: 15px;
  margin-bottom: 15px;
  transition: all 0.3s ease;
}

.tech-category:hover {
  background: rgba(255, 255, 255, 0.15);
}

.tech-category-header {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 15px;
}

.category-icon {
  font-size: 2em;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
}

.category-info {
  flex: 1;
}

.category-name {
  font-size: 1.2em;
  font-weight: bold;
  color: white;
  margin-bottom: 5px;
}

.category-description {
  font-size: 0.9em;
  color: rgba(255, 255, 255, 0.7);
}

.tech-upgrades-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 12px;
}

.tech-upgrade {
  background: rgba(0, 0, 0, 0.3);
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 10px;
  padding: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
}

.tech-upgrade:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

.tech-upgrade.available {
  border-color: #4caf50;
  background: rgba(76, 175, 80, 0.1);
}

.tech-upgrade.available:hover {
  background: rgba(76, 175, 80, 0.2);
  border-color: #66bb6a;
}

.tech-upgrade.owned {
  border-color: #2196f3;
  background: rgba(33, 150, 243, 0.1);
}

.tech-upgrade.maxed {
  border-color: #ffc107;
  background: rgba(255, 193, 7, 0.1);
}

.tech-upgrade.maxed::after {
  content: "âœ¨";
  position: absolute;
  top: 8px;
  right: 8px;
  font-size: 1.2em;
}

.tech-upgrade.locked {
  opacity: 0.6;
  cursor: not-allowed;
}

.upgrade-icon {
  font-size: 1.8em;
  text-align: center;
  margin-bottom: 8px;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

.upgrade-info {
  color: white;
}

.upgrade-name {
  font-weight: bold;
  font-size: 1em;
  margin-bottom: 4px;
  color: #e3f2fd;
}

.upgrade-level {
  font-size: 0.8em;
  color: #ffc107;
  margin-bottom: 8px;
  font-weight: bold;
}

.upgrade-description {
  font-size: 0.85em;
  color: rgba(255, 255, 255, 0.8);
  margin-bottom: 8px;
  line-height: 1.3;
}

.upgrade-effect {
  font-size: 0.8em;
  color: #4caf50;
  margin-bottom: 8px;
  font-weight: bold;
}

.prerequisites {
  font-size: 0.75em;
  color: #ff9800;
  margin-bottom: 8px;
  font-style: italic;
}

.upgrade-cost {
  font-size: 0.85em;
  color: #ffeb3b;
  font-weight: bold;
  text-align: center;
  padding: 4px 8px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 6px;
}

/* Mobile responsiveness for tech tree */
@media (max-width: 768px) {
  .prestige-display {
    flex-direction: column;
    text-align: center;
    gap: 15px;
  }
  
  .prestige-stats {
    grid-template-columns: 1fr;
    gap: 10px;
  }
  
  .tech-upgrades-grid {
    grid-template-columns: 1fr;
    gap: 10px;
  }
  
  .tech-category-header {
    flex-direction: column;
    text-align: center;
    gap: 10px;
  }
}

/* Mobile Responsiveness for University */
@media (max-width: 768px) {
  .building-status {
    flex-direction: column;
    text-align: center;
    gap: 15px;
  }
  
  .university-icon {
    font-size: 2.5em;
  }
  
  .research-header {
    flex-direction: column;
    text-align: center;
    gap: 10px;
  }
  
  .research-grid {
    grid-template-columns: 1fr;
    gap: 12px;
  }
  
  .research-stats {
    flex-direction: column;
    gap: 15px;
  }
  
  .university-header-btn {
    margin-left: 5px;
    margin-top: 5px;
    font-size: 0.8em;
    padding: 6px 12px;
  }
}

@media (max-width: 480px) {
  .research-item {
    padding: 12px;
  }
  
  .research-item-header {
    gap: 8px;
  }
  
  .research-item-icon {
    font-size: 1.3em;
  }
  
  .research-item-footer {
    flex-direction: column;
    gap: 8px;
    align-items: flex-start;
  }
}